\section{C\-A\-L\-I\-C\-E\-:\-:Alignment Class Reference}
\label{classCALICE_1_1Alignment}\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}


Class to comunicate/handle the translation into unique layer/cell ids and 3\-D spacial coordinates.  




{\ttfamily \#include $<$Alignment.\-hh$>$}

Inheritance diagram for C\-A\-L\-I\-C\-E\-:\-:Alignment\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classCALICE_1_1Alignment}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Alignment} ()
\begin{DoxyCompactList}\small\item\em default constructor. \end{DoxyCompactList}\item 
void {\bf init} ()\label{classCALICE_1_1Alignment_adad093be57011962ceaa0dc6fd597759}

\begin{DoxyCompactList}\small\item\em Does nothing for the time being. \end{DoxyCompactList}\item 
U\-Int\-\_\-t {\bf get\-Geometrical\-Cell\-Index} (U\-Int\-\_\-t module\-\_\-index, U\-Int\-\_\-t cell\-\_\-index) const 
\begin{DoxyCompactList}\small\item\em Get the unique cell index of the cell specified by the module and the cell index. \end{DoxyCompactList}\item 
bool {\bf is\-Valid} (U\-Int\-\_\-t module\-\_\-index) const 
\begin{DoxyCompactList}\small\item\em Return true if the type of the given module is valid. \end{DoxyCompactList}\item 
U\-Char\-\_\-t {\bf get\-Module\-Type} (U\-Int\-\_\-t module\-\_\-index) const 
\begin{DoxyCompactList}\small\item\em Get the type of a certain module. \end{DoxyCompactList}\item 
{\bf Three\-Vector\-\_\-t} {\bfseries get\-Position} (U\-Int\-\_\-t module\-\_\-index, U\-Int\-\_\-t cell\-\_\-index) const \label{classCALICE_1_1Alignment_a3ddad6c8a5aeaed18d3529d212d3ba1b}

\item 
{\bf Three\-Vector\-\_\-t} {\bfseries transform\-Position} ({\bf Three\-Vector\-\_\-t} \&a\-\_\-position) const \label{classCALICE_1_1Alignment_a77b2bfc80a819a597a8e451a2bbf7655}

\item 
U\-Int\-\_\-t {\bfseries get\-N\-Modules} () const \label{classCALICE_1_1Alignment_a439df763fea328d7f58336f3b97ca786}

\item 
Bool\-\_\-t {\bf is\-Module} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_a4860425f1c86fbc897920647f0dd7451}

\begin{DoxyCompactList}\small\item\em Return false if the module index is out of range. \end{DoxyCompactList}\item 
const {\bf Module\-Description} \& {\bf get\-Module\-Description} (U\-Int\-\_\-t module\-\_\-index) const 
\begin{DoxyCompactList}\small\item\em Return the description object for the given module. \end{DoxyCompactList}\item 
U\-Int\-\_\-t {\bfseries get\-N\-Cells\-Per\-Module} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_a67d96a33524e3dd7e4c151943caa103c}

\item 
Float\-\_\-t {\bf get\-Module\-Width} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_a2a3b34cd5399e9d4c6c34737314a42e7}

\begin{DoxyCompactList}\small\item\em Get the cell width of the given module and cell. \end{DoxyCompactList}\item 
Float\-\_\-t {\bf get\-Module\-Height} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_a5112553b1a361f609e186c85f97d0f7f}

\begin{DoxyCompactList}\small\item\em Get the cell width of the given module and cell. \end{DoxyCompactList}\item 
Float\-\_\-t {\bf get\-Cell\-Width} (U\-Int\-\_\-t module\-\_\-index, U\-Int\-\_\-t cell\-\_\-index) const \label{classCALICE_1_1Alignment_a7ed4ffe8bed99bed35d69c0ac431bc67}

\begin{DoxyCompactList}\small\item\em Get the cell width of the given module and cell. \end{DoxyCompactList}\item 
Float\-\_\-t {\bf get\-Cell\-Height} (U\-Int\-\_\-t module\-\_\-index, U\-Int\-\_\-t cell\-\_\-index) const 
\begin{DoxyCompactList}\small\item\em Get the cell width of the given module. \end{DoxyCompactList}\item 
{\bf Three\-Vector\-\_\-t} {\bf get\-Position} () const \label{classCALICE_1_1Alignment_a8264e5dd81a84e2362f8cc4d26a4c41f}

\begin{DoxyCompactList}\small\item\em Get the position of the detector in its proper coordinate system. \end{DoxyCompactList}\item 
{\bf Three\-Vector\-\_\-t} {\bf get\-Module\-Proper\-Center} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_a696dfaa32cdaf473b07c981934598958}

\begin{DoxyCompactList}\small\item\em Get the upper right corner of a module. \end{DoxyCompactList}\item 
{\bf Three\-Vector\-\_\-t} {\bf get\-Module\-Proper\-Position} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_ab46ad7e1e3e78dc47fcc4549a231c23e}

\begin{DoxyCompactList}\small\item\em Get the position of a module in the proper coordinate system of the detector. \end{DoxyCompactList}\item 
{\bf Three\-Vector\-\_\-t} {\bf get\-Module\-Position} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_a1ecf26def8a818e1f6035c9e18653d28}

\begin{DoxyCompactList}\small\item\em Get the position of a module in the reference coordinate system. \end{DoxyCompactList}\item 
{\bf Three\-Vector\-\_\-t} {\bf get\-Module\-Center} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_a4dd6c5cde6371a0b26c6438adf54414f}

\begin{DoxyCompactList}\small\item\em Get the center of a module in the reference coordinate system. \end{DoxyCompactList}\item 
Float\-\_\-t {\bf get\-Detector\-Angle\-Z\-X} () const \label{classCALICE_1_1Alignment_a10d5e1ddf0c26a74421c22774248671d}

\begin{DoxyCompactList}\small\item\em Return the effective rotation angle of the detector. \end{DoxyCompactList}\item 
virtual void {\bf module\-Type\-Changed} (lcio\-::\-L\-C\-Collection $\ast$col)
\begin{DoxyCompactList}\small\item\em Inform the object about changes of the module types. \end{DoxyCompactList}\item 
virtual void {\bf module\-Location\-Changed} (lcio\-::\-L\-C\-Collection $\ast$col)
\begin{DoxyCompactList}\small\item\em Inform the object about changes of the module locations. \end{DoxyCompactList}\item 
virtual void {\bf stage\-Position\-Changed} (lcio\-::\-L\-C\-Collection $\ast$col)
\begin{DoxyCompactList}\small\item\em Inform the object about changes in the stage positions on which the detector is mounted. \end{DoxyCompactList}\item 
virtual void {\bf detector\-Transformation} (lcio\-::\-L\-C\-Collection $\ast$col)
\begin{DoxyCompactList}\small\item\em Inform the object about changes of the detector position and rotation. \end{DoxyCompactList}\item 
virtual void {\bf reference\-Transformation} (lcio\-::\-L\-C\-Collection $\ast$col)
\begin{DoxyCompactList}\small\item\em Inform the object about changes of the reference position and rotation. \end{DoxyCompactList}\item 
U\-Int\-\_\-t {\bf get\-Cell\-Index\-Offset} (U\-Int\-\_\-t module\-\_\-index) const \label{classCALICE_1_1Alignment_ad07573bf525c2271792bc040242632a2}

\begin{DoxyCompactList}\small\item\em Get the cell index offset of a module. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
typedef {\bf Simple\-Array\-\_\-t}$<$ pair\\*
$<$ U\-Int\-\_\-t, {\bf Module\-Location} $>$ $>$ {\bf Module\-List\-\_\-t}
\begin{DoxyCompactList}\small\item\em Defined module locations (not necessarily connected to a front-\/end. \end{DoxyCompactList}\item 
typedef {\bf Simple\-Array\-\_\-t}\\*
$<$ {\bf Module\-Description} $>$ {\bfseries Module\-Type\-List\-\_\-t}\label{classCALICE_1_1Alignment_a10d63d19612d0b5384bfc7f9b7f84bbd}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf Module\-List\-\_\-t} {\bfseries \-\_\-module\-Location\-List}\label{classCALICE_1_1Alignment_a7038cce4a5b2baf25597867f0b5407c5}

\item 
{\bf Module\-Type\-List\-\_\-t} {\bfseries \-\_\-module\-Type\-List}\label{classCALICE_1_1Alignment_a975a8333c0f374f44dee0fa6c37cf732}

\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum {\bfseries E\-Transformation} \{ {\bfseries k\-Detector}, 
{\bfseries k\-Reference}, 
{\bfseries k\-Effective}, 
{\bfseries k\-N\-Transformations}
 \}
\item 
typedef void(Alignment\-::$\ast$ {\bf Stage\-Change\-Handle\-Func\-\_\-t} )(lcio\-::\-L\-C\-Collection $\ast$col)\label{classCALICE_1_1Alignment_a5131ddec8fd42fefa45de5826aecd4c1}

\begin{DoxyCompactList}\small\item\em A map which holds pointers to functions to access the parameters of teh movable stage(s) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void {\bf set\-Transformation} (lcio\-::\-L\-C\-Collection $\ast$col, E\-Transformation transformation\-\_\-type)\label{classCALICE_1_1Alignment_adb7fd43e529d374f41e8be0a1610faf9}

\begin{DoxyCompactList}\small\item\em Set the transformation parameters from the conditions data collection. \end{DoxyCompactList}\item 
void {\bf calculate\-Effective\-Transformation} ()
\begin{DoxyCompactList}\small\item\em Calculate the effective transformation from the detector and reference transformation. \end{DoxyCompactList}\item 
void {\bfseries handle\-Emc\-Stage} (L\-C\-Collection $\ast$)\label{classCALICE_1_1Alignment_abf5097c7e86a04e285cd59ddf8848c47}

\item 
void {\bfseries handle\-Ahc\-Stage} (L\-C\-Collection $\ast$)\label{classCALICE_1_1Alignment_a907fd80bfc25e5f98b6ebab3fb7533fa}

\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Float\-\_\-t {\bf \-\_\-detector\-Pos} [k\-N\-Transformations][3]\label{classCALICE_1_1Alignment_a6f73f5a4df2e1b7fd2a3da7c99d70d51}

\begin{DoxyCompactList}\small\item\em the position of the detector \end{DoxyCompactList}\item 
Float\-\_\-t {\bf \-\_\-detector\-Angle\-Z\-X} [k\-N\-Transformations]
\begin{DoxyCompactList}\small\item\em configuration angle w.\-r.\-t. \end{DoxyCompactList}\item 
Double\-\_\-t {\bf \-\_\-detector\-Angle\-Z\-X\-Sin}\label{classCALICE_1_1Alignment_a398120953f6f68d96563c57dd95e12aa}

\begin{DoxyCompactList}\small\item\em sin of the effective rotation angle in the z-\/x plane \end{DoxyCompactList}\item 
Double\-\_\-t {\bf \-\_\-detector\-Angle\-Z\-X\-Cos}\label{classCALICE_1_1Alignment_a4b7a1cc57b53c53a0f251dae7782f675}

\begin{DoxyCompactList}\small\item\em cos of the effective rotation angle in the z-\/x plane \end{DoxyCompactList}\item 
Float\-\_\-t {\bf \-\_\-detector\-Rotation\-X0} [k\-N\-Transformations]\label{classCALICE_1_1Alignment_a5b7bee79b2ad35a2e7b128f841a1fd64}

\begin{DoxyCompactList}\small\item\em origin of the detector ratation (x-\/direction) \end{DoxyCompactList}\item 
Float\-\_\-t {\bf \-\_\-detector\-Rotation\-Z0} [k\-N\-Transformations]\label{classCALICE_1_1Alignment_a2faba0894844b8779abd31d7e8a56854}

\begin{DoxyCompactList}\small\item\em origin of the detector ratation (z-\/direction) \end{DoxyCompactList}\item 
std\-::map$<$ std\-::string, \\*
{\bf Stage\-Change\-Handle\-Func\-\_\-t} $>$ {\bfseries \-\_\-known\-Stage\-Types}\label{classCALICE_1_1Alignment_a3b409667846fdd3b1b36abca4e74ba8d}

\item 
float {\bf \-\_\-stage\-Offset\-\_\-x}\label{classCALICE_1_1Alignment_a38bc228c141775137178ab1c171a4c92}

\begin{DoxyCompactList}\small\item\em The offsets due to the movable stage. \end{DoxyCompactList}\item 
float {\bfseries \-\_\-stage\-Offset\-\_\-y}\label{classCALICE_1_1Alignment_a734151cd0b80de77cd16cce5b7ae9106}

\end{DoxyCompactItemize}
\subsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static const Double\-\_\-t {\bfseries \-\_\-\-\_\-deg\-To\-Rad} =M\-\_\-\-P\-I/180.\label{classCALICE_1_1Alignment_af48cedd060a33b725e5f14f81f3033d1}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
Class to comunicate/handle the translation into unique layer/cell ids and 3\-D spacial coordinates. 

The class has to be informed about changes of the detector configuration using the methods \doxyref{C\-A\-L\-I\-C\-E\-::\-Alignment\-::module\-Type\-Changed}{p.}{classCALICE_1_1Alignment_adc041696a184db384a57bca51df7bc25}, \doxyref{C\-A\-L\-I\-C\-E\-::\-Alignment\-::module\-Location\-Changed}{p.}{classCALICE_1_1Alignment_a3ea188d0a90c7e0881d735cf55ef5604}, \doxyref{C\-A\-L\-I\-C\-E\-::\-Mapping\-And\-Alignment\-::module\-Connection\-Changed}{p.}{classCALICE_1_1MappingAndAlignment_a3717c2ea27a5a60ff2a41d17803ff148} and Alignment\-::experimental\-Setup. This information is used to map the D\-A\-Q signals to cells and calculate 3\-D spacial coordinates for hits.

The class performs range checks only if B\-O\-U\-N\-D\-A\-R\-Y\-\_\-\-C\-H\-E\-C\-K is defined. 

Definition at line 42 of file Alignment.\-hh.



\subsection{Member Typedef Documentation}
\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!Module\-List\-\_\-t@{Module\-List\-\_\-t}}
\index{Module\-List\-\_\-t@{Module\-List\-\_\-t}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{Module\-List\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Simple\-Array\-\_\-t}$<$pair$<$U\-Int\-\_\-t,{\bf Module\-Location}$>$ $>$ {\bf C\-A\-L\-I\-C\-E\-::\-Alignment\-::\-Module\-List\-\_\-t}\hspace{0.3cm}{\ttfamily [protected]}}\label{classCALICE_1_1Alignment_ad0153c70861a5bc9976bc21983ac319f}


Defined module locations (not necessarily connected to a front-\/end. 

First component contains the module I\-D, the second the module location information. 

Definition at line 475 of file Alignment.\-hh.



\subsection{Constructor \& Destructor Documentation}
\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!Alignment@{Alignment}}
\index{Alignment@{Alignment}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{Alignment}]{\setlength{\rightskip}{0pt plus 5cm}C\-A\-L\-I\-C\-E\-::\-Alignment\-::\-Alignment (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classCALICE_1_1Alignment_a9301ea57c3cf0bf16154f67e45023385}


default constructor. 

The default constructor configures the conditions data change delegators. 

Definition at line 29 of file Alignment.\-cc.



References set\-Transformation().



\subsection{Member Function Documentation}
\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!calculate\-Effective\-Transformation@{calculate\-Effective\-Transformation}}
\index{calculate\-Effective\-Transformation@{calculate\-Effective\-Transformation}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{calculate\-Effective\-Transformation}]{\setlength{\rightskip}{0pt plus 5cm}void C\-A\-L\-I\-C\-E\-::\-Alignment\-::calculate\-Effective\-Transformation (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classCALICE_1_1Alignment_af778a021450c0087cbf459eb291aa8f1}


Calculate the effective transformation from the detector and reference transformation. 



Definition at line 171 of file Alignment.\-cc.



References \-\_\-detector\-Angle\-Z\-X, \-\_\-detector\-Angle\-Z\-X\-Cos, \-\_\-detector\-Angle\-Z\-X\-Sin, \-\_\-detector\-Pos, \-\_\-detector\-Rotation\-X0, and \-\_\-detector\-Rotation\-Z0.



Referenced by set\-Transformation().

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!detector\-Transformation@{detector\-Transformation}}
\index{detector\-Transformation@{detector\-Transformation}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{detector\-Transformation}]{\setlength{\rightskip}{0pt plus 5cm}virtual void C\-A\-L\-I\-C\-E\-::\-Alignment\-::detector\-Transformation (
\begin{DoxyParamCaption}
\item[{lcio\-::\-L\-C\-Collection $\ast$}]{col}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classCALICE_1_1Alignment_a85a9ad1e7e95e2ade18f30e6373eadfa}


Inform the object about changes of the detector position and rotation. 


\begin{DoxyParams}{Parameters}
{\em col} & collection of \doxyref{Detector\-Transformation}{p.}{classCALICE_1_1DetectorTransformation} objects This class must be called before querying the postion of cells. The position is calculated in the reference coorindate system. \\
\hline
\end{DoxyParams}


Definition at line 457 of file Alignment.\-hh.

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!get\-Cell\-Height@{get\-Cell\-Height}}
\index{get\-Cell\-Height@{get\-Cell\-Height}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{get\-Cell\-Height}]{\setlength{\rightskip}{0pt plus 5cm}Float\-\_\-t C\-A\-L\-I\-C\-E\-::\-Alignment\-::get\-Cell\-Height (
\begin{DoxyParamCaption}
\item[{U\-Int\-\_\-t}]{module\-\_\-index, }
\item[{U\-Int\-\_\-t}]{cell\-\_\-index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classCALICE_1_1Alignment_a84ad3b3ffba7850de98971a51eeba82f}


Get the cell width of the given module. 

It is assumed that the cells of one module all have the same width. 

Definition at line 325 of file Alignment.\-hh.

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!get\-Geometrical\-Cell\-Index@{get\-Geometrical\-Cell\-Index}}
\index{get\-Geometrical\-Cell\-Index@{get\-Geometrical\-Cell\-Index}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{get\-Geometrical\-Cell\-Index}]{\setlength{\rightskip}{0pt plus 5cm}U\-Int\-\_\-t C\-A\-L\-I\-C\-E\-::\-Alignment\-::get\-Geometrical\-Cell\-Index (
\begin{DoxyParamCaption}
\item[{U\-Int\-\_\-t}]{module\-\_\-index, }
\item[{U\-Int\-\_\-t}]{cell\-\_\-index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classCALICE_1_1Alignment_add6b290637455010456ce6f643ccb34f}


Get the unique cell index of the cell specified by the module and the cell index. 


\begin{DoxyParams}{Parameters}
{\em module\-\_\-index} & unique index for modules which should run from 0..total number of modules \\
\hline
{\em cell\-\_\-index} & within the module (0.. number of cells of this module type) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
unique cell index. 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em range\-\_\-error} & if the module index is out of range and B\-O\-U\-N\-D\-A\-R\-Y\-\_\-\-C\-H\-E\-C\-K is defined\\
\hline
\end{DoxyExceptions}
The cell index conforms to the Mokka specification (see for example \doxyref{Cell\-Index}{p.}{classCALICE_1_1CellIndex}). It is composed of the layer number, the wafer column and row, and the pad column and row. 

Definition at line 68 of file Alignment.\-hh.

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!get\-Module\-Description@{get\-Module\-Description}}
\index{get\-Module\-Description@{get\-Module\-Description}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{get\-Module\-Description}]{\setlength{\rightskip}{0pt plus 5cm}const {\bf Module\-Description}\& C\-A\-L\-I\-C\-E\-::\-Alignment\-::get\-Module\-Description (
\begin{DoxyParamCaption}
\item[{U\-Int\-\_\-t}]{module\-\_\-index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classCALICE_1_1Alignment_a6ac1899ddab2b35464b85ec39a67ede7}


Return the description object for the given module. 


\begin{DoxyParams}{Parameters}
{\em module\-\_\-index} & the index of the moduel. \\
\hline
\end{DoxyParams}


Definition at line 229 of file Alignment.\-hh.

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!get\-Module\-Type@{get\-Module\-Type}}
\index{get\-Module\-Type@{get\-Module\-Type}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{get\-Module\-Type}]{\setlength{\rightskip}{0pt plus 5cm}U\-Char\-\_\-t C\-A\-L\-I\-C\-E\-::\-Alignment\-::get\-Module\-Type (
\begin{DoxyParamCaption}
\item[{U\-Int\-\_\-t}]{module\-\_\-index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classCALICE_1_1Alignment_a6347626acbfc5dfcbca3c97c89fcad70}


Get the type of a certain module. 

The module type together with the module I\-D uniquly identifies a module. Different modules of one type always have different I\-Ds but modules of different types may have the same I\-D. In case of the E\-C\-A\-L the module I\-D is the serial number of the P\-C\-Bs. 
\begin{DoxyParams}{Parameters}
{\em module\-\_\-index} & the index of the module within the detector (not necessarily the same as the module I\-D) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
the module type 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em range\-\_\-error} & if the module specified by module\-\_\-index is not defined but only if B\-O\-U\-N\-D\-A\-R\-Y\-\_\-\-C\-H\-E\-C\-K is defined. \\
\hline
\end{DoxyExceptions}
\begin{DoxySeeAlso}{See Also}
get\-Module\-I\-D() 
\end{DoxySeeAlso}


Definition at line 114 of file Alignment.\-hh.



Referenced by C\-A\-L\-I\-C\-E\-::\-Mapping\-And\-Alignment\-::print().

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!is\-Valid@{is\-Valid}}
\index{is\-Valid@{is\-Valid}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{is\-Valid}]{\setlength{\rightskip}{0pt plus 5cm}bool C\-A\-L\-I\-C\-E\-::\-Alignment\-::is\-Valid (
\begin{DoxyParamCaption}
\item[{U\-Int\-\_\-t}]{module\-\_\-index}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [inline]}}\label{classCALICE_1_1Alignment_a3b3a82a744ce67860086203baef3ddff}


Return true if the type of the given module is valid. 


\begin{DoxyParams}{Parameters}
{\em module\-\_\-index} & the index of the given module. \\
\hline
\end{DoxyParams}


Definition at line 90 of file Alignment.\-hh.



Referenced by C\-A\-L\-I\-C\-E\-::\-Mapping\-And\-Alignment\-::print().

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!module\-Location\-Changed@{module\-Location\-Changed}}
\index{module\-Location\-Changed@{module\-Location\-Changed}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{module\-Location\-Changed}]{\setlength{\rightskip}{0pt plus 5cm}void C\-A\-L\-I\-C\-E\-::\-Alignment\-::module\-Location\-Changed (
\begin{DoxyParamCaption}
\item[{lcio\-::\-L\-C\-Collection $\ast$}]{col}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classCALICE_1_1Alignment_a3ea188d0a90c7e0881d735cf55ef5604}


Inform the object about changes of the module locations. 


\begin{DoxyParams}{Parameters}
{\em col} & collection of \doxyref{Module\-Location}{p.}{classCALICE_1_1ModuleLocation} objects This class must be called before using any(most) of the other methods. The function call will cause a rebuild of the module D\-A\-Q front-\/end connection tree. \\
\hline
\end{DoxyParams}


Reimplemented in {\bf C\-A\-L\-I\-C\-E\-::\-Mapping\-And\-Alignment} \doxyref{}{p.}{classCALICE_1_1MappingAndAlignment_ab9d17873aeb090388556547cb6b67ba8}.



Definition at line 76 of file Alignment.\-cc.



Referenced by C\-A\-L\-I\-C\-E\-::\-Mapping\-And\-Alignment\-::module\-Location\-Changed().

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!module\-Type\-Changed@{module\-Type\-Changed}}
\index{module\-Type\-Changed@{module\-Type\-Changed}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{module\-Type\-Changed}]{\setlength{\rightskip}{0pt plus 5cm}void C\-A\-L\-I\-C\-E\-::\-Alignment\-::module\-Type\-Changed (
\begin{DoxyParamCaption}
\item[{lcio\-::\-L\-C\-Collection $\ast$}]{col}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classCALICE_1_1Alignment_adc041696a184db384a57bca51df7bc25}


Inform the object about changes of the module types. 


\begin{DoxyParams}{Parameters}
{\em col} & collection of \doxyref{Module\-Description}{p.}{classCALICE_1_1ModuleDescription} objects This class must be called before using any(most) of the other methods. The function call will cause a rebuild of the module D\-A\-Q front-\/end connection tree. \\
\hline
\end{DoxyParams}


Reimplemented in {\bf C\-A\-L\-I\-C\-E\-::\-Mapping\-And\-Alignment} \doxyref{}{p.}{classCALICE_1_1MappingAndAlignment_a5564c399de481a023b702a39a04fea7f}.



Definition at line 47 of file Alignment.\-cc.



Referenced by C\-A\-L\-I\-C\-E\-::\-Mapping\-And\-Alignment\-::module\-Type\-Changed().

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!reference\-Transformation@{reference\-Transformation}}
\index{reference\-Transformation@{reference\-Transformation}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{reference\-Transformation}]{\setlength{\rightskip}{0pt plus 5cm}virtual void C\-A\-L\-I\-C\-E\-::\-Alignment\-::reference\-Transformation (
\begin{DoxyParamCaption}
\item[{lcio\-::\-L\-C\-Collection $\ast$}]{col}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}\label{classCALICE_1_1Alignment_aedf5694bbb286510411e1de986e51ac5}


Inform the object about changes of the reference position and rotation. 


\begin{DoxyParams}{Parameters}
{\em col} & collection of \doxyref{Detector\-Transformation}{p.}{classCALICE_1_1DetectorTransformation} objects This class must be called before querying the postion of cells. The position is calculated in the reference coordinate system. \\
\hline
\end{DoxyParams}


Definition at line 466 of file Alignment.\-hh.

\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!stage\-Position\-Changed@{stage\-Position\-Changed}}
\index{stage\-Position\-Changed@{stage\-Position\-Changed}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{stage\-Position\-Changed}]{\setlength{\rightskip}{0pt plus 5cm}void C\-A\-L\-I\-C\-E\-::\-Alignment\-::stage\-Position\-Changed (
\begin{DoxyParamCaption}
\item[{lcio\-::\-L\-C\-Collection $\ast$}]{col}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{classCALICE_1_1Alignment_ab018d115126785360ec8e70fb710409b}


Inform the object about changes in the stage positions on which the detector is mounted. 


\begin{DoxyParams}{Parameters}
{\em col} & collection of Stage\-Parameters objects This class must be called before calculating the actual cell positions The function will provide the xy values for a correct transversal alignment of the detectors. \\
\hline
\end{DoxyParams}


Definition at line 218 of file Alignment.\-cc.



\subsection{Field Documentation}
\index{C\-A\-L\-I\-C\-E\-::\-Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}!\-\_\-detector\-Angle\-Z\-X@{\-\_\-detector\-Angle\-Z\-X}}
\index{\-\_\-detector\-Angle\-Z\-X@{\-\_\-detector\-Angle\-Z\-X}!CALICE::Alignment@{C\-A\-L\-I\-C\-E\-::\-Alignment}}
\subsubsection[{\-\_\-detector\-Angle\-Z\-X}]{\setlength{\rightskip}{0pt plus 5cm}Float\-\_\-t C\-A\-L\-I\-C\-E\-::\-Alignment\-::\-\_\-detector\-Angle\-Z\-X[k\-N\-Transformations]\hspace{0.3cm}{\ttfamily [private]}}\label{classCALICE_1_1Alignment_a7580f22b535e4538967b0ef80f22f3ed}


configuration angle w.\-r.\-t. 

to the beam axis in the horizontal plane 

Definition at line 501 of file Alignment.\-hh.



Referenced by calculate\-Effective\-Transformation(), and set\-Transformation().



The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
Alignment.\-hh\item 
Alignment.\-cc\end{DoxyCompactItemize}
