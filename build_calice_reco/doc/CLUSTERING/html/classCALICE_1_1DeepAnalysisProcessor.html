<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CLUSTERING: CALICE::DeepAnalysisProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CLUSTERING
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>CALICE</b></li><li class="navelem"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">CALICE::DeepAnalysisProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Processor for the deep analysis according to the algorithm developed by Vasiliy Morgunov.  
 <a href="classCALICE_1_1DeepAnalysisProcessor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CALICE::DeepAnalysisProcessor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCALICE_1_1DeepAnalysisProcessor.png" usemap="#CALICE::DeepAnalysisProcessor_map" alt=""/>
  <map id="CALICE::DeepAnalysisProcessor_map" name="CALICE::DeepAnalysisProcessor_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8c48cc1b602f4ecb5bdd253ffc796f14"><td class="memItemLeft" align="right" valign="top">virtual Processor *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a8c48cc1b602f4ecb5bdd253ffc796f14">newProcessor</a> ()</td></tr>
<tr class="memdesc:a8c48cc1b602f4ecb5bdd253ffc796f14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a new instance of the processor.  <a href="#a8c48cc1b602f4ecb5bdd253ffc796f14">More...</a><br/></td></tr>
<tr class="separator:a8c48cc1b602f4ecb5bdd253ffc796f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0f7402850bf0d1c75294e285756efe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#af0f7402850bf0d1c75294e285756efe0">DeepAnalysisProcessor</a> ()</td></tr>
<tr class="memdesc:af0f7402850bf0d1c75294e285756efe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#af0f7402850bf0d1c75294e285756efe0">More...</a><br/></td></tr>
<tr class="separator:af0f7402850bf0d1c75294e285756efe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f1a2deda4534e902e57dd599f23f61"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a11f1a2deda4534e902e57dd599f23f61">init</a> ()</td></tr>
<tr class="memdesc:a11f1a2deda4534e902e57dd599f23f61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called at the begin of the job before anything is read.  <a href="#a11f1a2deda4534e902e57dd599f23f61">More...</a><br/></td></tr>
<tr class="separator:a11f1a2deda4534e902e57dd599f23f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95f1ffefdea07fd542085667f469588"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#aa95f1ffefdea07fd542085667f469588">processRunHeader</a> (LCRunHeader *run)</td></tr>
<tr class="memdesc:aa95f1ffefdea07fd542085667f469588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called for every run.  <a href="#aa95f1ffefdea07fd542085667f469588">More...</a><br/></td></tr>
<tr class="separator:aa95f1ffefdea07fd542085667f469588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb1c75b7e2cd2cd78a06f3e2844c7f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8bb1c75b7e2cd2cd78a06f3e2844c7f5"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a8bb1c75b7e2cd2cd78a06f3e2844c7f5">processEvent</a> (LCEvent *evt)</td></tr>
<tr class="memdesc:a8bb1c75b7e2cd2cd78a06f3e2844c7f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Classification of hits into clusters, according to the deep analysis algorithm, on an event by event basis. <br/></td></tr>
<tr class="separator:a8bb1c75b7e2cd2cd78a06f3e2844c7f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7195518a4115255e9d91e10b1f7ee224"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a7195518a4115255e9d91e10b1f7ee224">GeVperMip</a> (unsigned detectorIndex, unsigned layerIndex)</td></tr>
<tr class="separator:a7195518a4115255e9d91e10b1f7ee224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2e6f47b82d17cee7226faa2e427214e"><td class="memItemLeft" align="right" valign="top">virtual unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#aa2e6f47b82d17cee7226faa2e427214e">PopulatedLayerIndex</a> (unsigned detectorIndex, unsigned layerIndex)</td></tr>
<tr class="separator:aa2e6f47b82d17cee7226faa2e427214e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cced09085aae251c4864a6af6520ab0"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a6cced09085aae251c4864a6af6520ab0">check</a> (LCEvent *evt)</td></tr>
<tr class="memdesc:a6cced09085aae251c4864a6af6520ab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called for every event - right after <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a8bb1c75b7e2cd2cd78a06f3e2844c7f5" title="Classification of hits into clusters, according to the deep analysis algorithm, on an event by event ...">processEvent()</a> has been called for all processors.  <a href="#a6cced09085aae251c4864a6af6520ab0">More...</a><br/></td></tr>
<tr class="separator:a6cced09085aae251c4864a6af6520ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82046cb494d223d964fbac5aba9295f3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; float &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a82046cb494d223d964fbac5aba9295f3">GetRotatedPositionIfRquested</a> (bool switchRotation, CalorimeterHit *a_hit)</td></tr>
<tr class="memdesc:a82046cb494d223d964fbac5aba9295f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The coordinate system used in <a class="el" href="classDeepAnalysis.html" title="Cluster finding and analysis. ">DeepAnalysis</a> is different from the one used in Calice.  <a href="#a82046cb494d223d964fbac5aba9295f3">More...</a><br/></td></tr>
<tr class="separator:a82046cb494d223d964fbac5aba9295f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea0f203cb78214cfb45a36d6693ca4a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#afea0f203cb78214cfb45a36d6693ca4a">end</a> ()</td></tr>
<tr class="memdesc:afea0f203cb78214cfb45a36d6693ca4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after data processing for clean up in the inverse order of the <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a11f1a2deda4534e902e57dd599f23f61" title="Called at the begin of the job before anything is read. ">init()</a> method so that resources allocated in the first processor also will be available for all following processors.  <a href="#afea0f203cb78214cfb45a36d6693ca4a">More...</a><br/></td></tr>
<tr class="separator:afea0f203cb78214cfb45a36d6693ca4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aa4f944063dd8cd11af71b356a999a617"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4f944063dd8cd11af71b356a999a617"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#aa4f944063dd8cd11af71b356a999a617">updateCorrelations</a> ()</td></tr>
<tr class="memdesc:aa4f944063dd8cd11af71b356a999a617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check out which layers contain hits, and fill the <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a16a1b8281abc3829debe0bb943c046c2">_gevPerMip</a> vectors. <br/></td></tr>
<tr class="separator:aa4f944063dd8cd11af71b356a999a617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6a910a439fc62c183039ab50ef2eca"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a1e6a910a439fc62c183039ab50ef2eca">moduleTypeChanged</a> (lcio::LCCollection *col, unsigned int detectorIndex)</td></tr>
<tr class="memdesc:a1e6a910a439fc62c183039ab50ef2eca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen to changes of the module type (needed to correctly map the DAQ signals to cells and to calculate the 3D spacial coordinates for hits).  <a href="#a1e6a910a439fc62c183039ab50ef2eca">More...</a><br/></td></tr>
<tr class="separator:a1e6a910a439fc62c183039ab50ef2eca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf0d0c6883f4783b398712d4c17bea2"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#acaf0d0c6883f4783b398712d4c17bea2">moduleLocationChanged</a> (lcio::LCCollection *col, unsigned int detectorIndex)</td></tr>
<tr class="memdesc:acaf0d0c6883f4783b398712d4c17bea2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen to changes of the module location (needed to correctly map the DAQ signals to cells and to calculate the 3D spacial coordinates for hits).  <a href="#acaf0d0c6883f4783b398712d4c17bea2">More...</a><br/></td></tr>
<tr class="separator:acaf0d0c6883f4783b398712d4c17bea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff699042d1bd0f80c4057a87015b4c4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a4ff699042d1bd0f80c4057a87015b4c4">moduleConnectionChanged</a> (lcio::LCCollection *col, unsigned int detectorIndex)</td></tr>
<tr class="memdesc:a4ff699042d1bd0f80c4057a87015b4c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listen to changes of the module connection (needed to correctly map the DAQ signals to cells and to calculate the 3D spacial coordinates for hits).  <a href="#a4ff699042d1bd0f80c4057a87015b4c4">More...</a><br/></td></tr>
<tr class="separator:a4ff699042d1bd0f80c4057a87015b4c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:abced7b7536bce66e026bf27acb7f02a3"><td class="memItemLeft" align="right" valign="top">lcio::FloatVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#abced7b7536bce66e026bf27acb7f02a3">_thresholds</a></td></tr>
<tr class="memdesc:abced7b7536bce66e026bf27acb7f02a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thresholds to be put into deep analysis algorithm.  <a href="#abced7b7536bce66e026bf27acb7f02a3">More...</a><br/></td></tr>
<tr class="separator:abced7b7536bce66e026bf27acb7f02a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7000e5b7e29c0d18a43a3860cbcab06"><td class="memItemLeft" align="right" valign="top">lcio::StringVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#ac7000e5b7e29c0d18a43a3860cbcab06">_inputCollectionNames</a></td></tr>
<tr class="memdesc:ac7000e5b7e29c0d18a43a3860cbcab06"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of input hit collection names (default: CalorimeterHits).  <a href="#ac7000e5b7e29c0d18a43a3860cbcab06">More...</a><br/></td></tr>
<tr class="separator:ac7000e5b7e29c0d18a43a3860cbcab06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf2ff400523e0d0d643232ba24b274df"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf2ff400523e0d0d643232ba24b274df"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#abf2ff400523e0d0d643232ba24b274df">_outputCollectionName</a></td></tr>
<tr class="memdesc:abf2ff400523e0d0d643232ba24b274df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of output collection (default: AhcClusters) <br/></td></tr>
<tr class="separator:abf2ff400523e0d0d643232ba24b274df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65f26be8425efe29b7d90211c7b631c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a65f26be8425efe29b7d90211c7b631c8"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a65f26be8425efe29b7d90211c7b631c8">_outputNeutrCollectionName</a></td></tr>
<tr class="memdesc:a65f26be8425efe29b7d90211c7b631c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of neutral output collection (default: AhcNeutrClusters) <br/></td></tr>
<tr class="separator:a65f26be8425efe29b7d90211c7b631c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66c855547e22a6915532a79fd44f86a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae66c855547e22a6915532a79fd44f86a"></a>
lcio::StringVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#ae66c855547e22a6915532a79fd44f86a">_colNamesModuleDescription</a></td></tr>
<tr class="memdesc:ae66c855547e22a6915532a79fd44f86a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the conditions data collection containing module descriptions. <br/></td></tr>
<tr class="separator:ae66c855547e22a6915532a79fd44f86a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7968c4389c0d106e7d9779c42ba95c2e"><td class="memItemLeft" align="right" valign="top">lcio::StringVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a7968c4389c0d106e7d9779c42ba95c2e">_colNamesModuleLocation</a></td></tr>
<tr class="memdesc:a7968c4389c0d106e7d9779c42ba95c2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the conditions data collection containing module location.  <a href="#a7968c4389c0d106e7d9779c42ba95c2e">More...</a><br/></td></tr>
<tr class="separator:a7968c4389c0d106e7d9779c42ba95c2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765b1b5e6845a77acfd690b482a7d3de"><td class="memItemLeft" align="right" valign="top">lcio::StringVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a765b1b5e6845a77acfd690b482a7d3de">_colNamesModuleConnection</a></td></tr>
<tr class="memdesc:a765b1b5e6845a77acfd690b482a7d3de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the conditions data collection containing module connection.  <a href="#a765b1b5e6845a77acfd690b482a7d3de">More...</a><br/></td></tr>
<tr class="separator:a765b1b5e6845a77acfd690b482a7d3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6edf54b93f74b7488426301b1f5d71b0"><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; MultipleConditionsChangeDelegator<br class="typebreak"/>
&lt; <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a6edf54b93f74b7488426301b1f5d71b0">_moduleTypeChange</a></td></tr>
<tr class="memdesc:a6edf54b93f74b7488426301b1f5d71b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to listen for module type change (conditions data).  <a href="#a6edf54b93f74b7488426301b1f5d71b0">More...</a><br/></td></tr>
<tr class="separator:a6edf54b93f74b7488426301b1f5d71b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b27435a9ac32c1f1410a87de569383"><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; MultipleConditionsChangeDelegator<br class="typebreak"/>
&lt; <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a95b27435a9ac32c1f1410a87de569383">_moduleLocationChange</a></td></tr>
<tr class="memdesc:a95b27435a9ac32c1f1410a87de569383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to listen for module location change (conditions data).  <a href="#a95b27435a9ac32c1f1410a87de569383">More...</a><br/></td></tr>
<tr class="separator:a95b27435a9ac32c1f1410a87de569383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214ca8e9c5941d2b760e94d18e5cfec2"><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; MultipleConditionsChangeDelegator<br class="typebreak"/>
&lt; <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a214ca8e9c5941d2b760e94d18e5cfec2">_moduleConnectionChange</a></td></tr>
<tr class="memdesc:a214ca8e9c5941d2b760e94d18e5cfec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper to listen for module connection change (conditions data).  <a href="#a214ca8e9c5941d2b760e94d18e5cfec2">More...</a><br/></td></tr>
<tr class="separator:a214ca8e9c5941d2b760e94d18e5cfec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb73fb7bc4baec3832dfe7f51c3ae7c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; MappingAndAlignment &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a8eb73fb7bc4baec3832dfe7f51c3ae7c">_mapping</a></td></tr>
<tr class="memdesc:a8eb73fb7bc4baec3832dfe7f51c3ae7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vector of MappingAndAlignment (which handles the translation into unique layer/cell ids and 3D space coordinates).  <a href="#a8eb73fb7bc4baec3832dfe7f51c3ae7c">More...</a><br/></td></tr>
<tr class="separator:a8eb73fb7bc4baec3832dfe7f51c3ae7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f07cd4ccd368734695eecc8692c2e3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a6f07cd4ccd368734695eecc8692c2e3f">_viewConnectionTree</a></td></tr>
<tr class="memdesc:a6f07cd4ccd368734695eecc8692c2e3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">View the mapping between channels and modules whenever the module location or module connection conditions data change (set to 0 or !=0).  <a href="#a6f07cd4ccd368734695eecc8692c2e3f">More...</a><br/></td></tr>
<tr class="separator:a6f07cd4ccd368734695eecc8692c2e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a1b8281abc3829debe0bb943c046c2"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; float &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a16a1b8281abc3829debe0bb943c046c2">_gevPerMip</a></td></tr>
<tr class="memdesc:a16a1b8281abc3829debe0bb943c046c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the conversion factors from E[MIPs] to E[GeV] (depend on the sampling fractions and on the index of the occupied layer).  <a href="#a16a1b8281abc3829debe0bb943c046c2">More...</a><br/></td></tr>
<tr class="separator:a16a1b8281abc3829debe0bb943c046c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c5ca35a74569b33c641242eb559cc5"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#aa8c5ca35a74569b33c641242eb559cc5">_populatedLayerIndex</a></td></tr>
<tr class="memdesc:aa8c5ca35a74569b33c641242eb559cc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the index of layers containing hits.  <a href="#aa8c5ca35a74569b33c641242eb559cc5">More...</a><br/></td></tr>
<tr class="separator:aa8c5ca35a74569b33c641242eb559cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386ae896d3e81b1e8e5335bdd99ef639"><td class="memItemLeft" align="right" valign="top">lcio::FloatVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a386ae896d3e81b1e8e5335bdd99ef639">_samplingFractionA</a></td></tr>
<tr class="memdesc:a386ae896d3e81b1e8e5335bdd99ef639"><td class="mdescLeft">&#160;</td><td class="mdescRight">First part of parametrisation of the sampling fraction.  <a href="#a386ae896d3e81b1e8e5335bdd99ef639">More...</a><br/></td></tr>
<tr class="separator:a386ae896d3e81b1e8e5335bdd99ef639"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae663c30fc08de31bedc6792110247b15"><td class="memItemLeft" align="right" valign="top">lcio::FloatVec&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#ae663c30fc08de31bedc6792110247b15">_samplingFractionB</a></td></tr>
<tr class="memdesc:ae663c30fc08de31bedc6792110247b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Second part of parametrisation of the sampling fraction.  <a href="#ae663c30fc08de31bedc6792110247b15">More...</a><br/></td></tr>
<tr class="separator:ae663c30fc08de31bedc6792110247b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f722ccb18f82134e2197547eee6244c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a8f722ccb18f82134e2197547eee6244c">_samplingFactor</a></td></tr>
<tr class="memdesc:a8f722ccb18f82134e2197547eee6244c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sampling factor (in GeV) for transforming E[GeV] in E[MIPs], default MC value 875 keV.  <a href="#a8f722ccb18f82134e2197547eee6244c">More...</a><br/></td></tr>
<tr class="separator:a8f722ccb18f82134e2197547eee6244c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763658ffcef0344381719245edf455ae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a763658ffcef0344381719245edf455ae"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a763658ffcef0344381719245edf455ae">_switchRotation</a></td></tr>
<tr class="memdesc:a763658ffcef0344381719245edf455ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Switch rotation ON/OFF. <br/></td></tr>
<tr class="separator:a763658ffcef0344381719245edf455ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e24ceb1ccb0fd90f0f70b272477030f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5e24ceb1ccb0fd90f0f70b272477030f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a5e24ceb1ccb0fd90f0f70b272477030f">_mipThreshold</a></td></tr>
<tr class="memdesc:a5e24ceb1ccb0fd90f0f70b272477030f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimal energy deposition in units of MIPs to keep the hit (default 0.5) <br/></td></tr>
<tr class="separator:a5e24ceb1ccb0fd90f0f70b272477030f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1adc1b1061a356d7bf585dfe2440b2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d1adc1b1061a356d7bf585dfe2440b2"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_fIsMC</b></td></tr>
<tr class="separator:a3d1adc1b1061a356d7bf585dfe2440b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processor for the deep analysis according to the algorithm developed by Vasiliy Morgunov. </p>
<p>Input: calibrated CalorimeterHits, output: AhcClusters - collection of classified clusters, according to their energy. For details, see <a href="http://www.desy.de/~garutti/DOCU/deepanalysis.pdf">http://www.desy.de/~garutti/DOCU/deepanalysis.pdf</a></p>
<dl class="section author"><dt>Author</dt><dd>S. Schmidt, DESY </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Apr 4 2007 </dd></dl>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00041">41</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af0f7402850bf0d1c75294e285756efe0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CALICE::DeepAnalysisProcessor::DeepAnalysisProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">29</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00111">_colNamesModuleConnection</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00107">_colNamesModuleDescription</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00109">_colNamesModuleLocation</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00103">_inputCollectionNames</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00141">_mipThreshold</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00105">_outputCollectionName</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00106">_outputNeutrCollectionName</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00137">_samplingFactor</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00135">_samplingFractionA</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00136">_samplingFractionB</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00140">_switchRotation</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00102">_thresholds</a>, and <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00127">_viewConnectionTree</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00046">newProcessor()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6cced09085aae251c4864a6af6520ab0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::DeepAnalysisProcessor::check </td>
          <td>(</td>
          <td class="paramtype">LCEvent *&#160;</td>
          <td class="paramname"><em>evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called for every event - right after <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a8bb1c75b7e2cd2cd78a06f3e2844c7f5" title="Classification of hits into clusters, according to the deep analysis algorithm, on an event by event ...">processEvent()</a> has been called for all processors. </p>
<p>Use to check processing and/or produce check plots. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00574">574</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="afea0f203cb78214cfb45a36d6693ca4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::DeepAnalysisProcessor::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after data processing for clean up in the inverse order of the <a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a11f1a2deda4534e902e57dd599f23f61" title="Called at the begin of the job before anything is read. ">init()</a> method so that resources allocated in the first processor also will be available for all following processors. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00614">614</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a82046cb494d223d964fbac5aba9295f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; float &gt; CALICE::DeepAnalysisProcessor::GetRotatedPositionIfRquested </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>switchRotation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CalorimeterHit *&#160;</td>
          <td class="paramname"><em>a_hit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The coordinate system used in <a class="el" href="classDeepAnalysis.html" title="Cluster finding and analysis. ">DeepAnalysis</a> is different from the one used in Calice. </p>
<p>The relations are: x_deepAnalysis = -x_calice y_deepAnalysis = y_calice z_deepAnalysis = -z_calice</p>
<p>double x_calice = a_hit-&gt;getPosition()[0]; double y_calice = a_hit-&gt;getPosition()[1]; double z_calice = a_hit-&gt;getPosition()[2];</p>
<p>double x_deepAnalysis = -x_calice; double y_deepAnalysis = y_calice; double z_deepAnalysis = -z_calice; </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00581">581</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00209">processEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a7195518a4115255e9d91e10b1f7ee224"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CALICE::DeepAnalysisProcessor::GeVperMip </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>detectorIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>layerIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#a16a1b8281abc3829debe0bb943c046c2">_gevPerMip</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">detectorIndex</td><td>index of the input collections </td></tr>
    <tr><td class="paramname">layerIndex</td><td>index of the layer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00490">490</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00130">_gevPerMip</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00209">processEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a11f1a2deda4534e902e57dd599f23f61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::DeepAnalysisProcessor::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called at the begin of the job before anything is read. </p>
<p>Used to initialize the processor. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">120</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00111">_colNamesModuleConnection</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00107">_colNamesModuleDescription</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00109">_colNamesModuleLocation</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00103">_inputCollectionNames</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00124">_mapping</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00120">_moduleConnectionChange</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00117">_moduleLocationChange</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00114">_moduleTypeChange</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00135">_samplingFractionA</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00136">_samplingFractionB</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00102">_thresholds</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00127">_viewConnectionTree</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00179">moduleConnectionChanged()</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00167">moduleLocationChanged()</a>, and <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00156">moduleTypeChanged()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ff699042d1bd0f80c4057a87015b4c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CALICE::DeepAnalysisProcessor::moduleConnectionChanged </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>detectorIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Listen to changes of the module connection (needed to correctly map the DAQ signals to cells and to calculate the 3D spacial coordinates for hits). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">col</td><td>input collections names </td></tr>
    <tr><td class="paramname">detectorIndex</td><td>index of the input collections </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00179">179</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00124">_mapping</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="acaf0d0c6883f4783b398712d4c17bea2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CALICE::DeepAnalysisProcessor::moduleLocationChanged </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>detectorIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Listen to changes of the module location (needed to correctly map the DAQ signals to cells and to calculate the 3D spacial coordinates for hits). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">col</td><td>input collections names </td></tr>
    <tr><td class="paramname">detectorIndex</td><td>index of the input collections </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00167">167</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00124">_mapping</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e6a910a439fc62c183039ab50ef2eca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CALICE::DeepAnalysisProcessor::moduleTypeChanged </td>
          <td>(</td>
          <td class="paramtype">lcio::LCCollection *&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>detectorIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Listen to changes of the module type (needed to correctly map the DAQ signals to cells and to calculate the 3D spacial coordinates for hits). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">col</td><td>input collections names </td></tr>
    <tr><td class="paramname">detectorIndex</td><td>index of the input collections </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00156">156</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00124">_mapping</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c48cc1b602f4ecb5bdd253ffc796f14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Processor* CALICE::DeepAnalysisProcessor::newProcessor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return a new instance of the processor. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00046">46</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>.</p>

</div>
</div>
<a class="anchor" id="aa2e6f47b82d17cee7226faa2e427214e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned CALICE::DeepAnalysisProcessor::PopulatedLayerIndex </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>detectorIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>layerIndex</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html#aa8c5ca35a74569b33c641242eb559cc5">_populatedLayerIndex</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">detectorIndex</td><td>index of the input collections </td></tr>
    <tr><td class="paramname">layerIndex</td><td>index of the layer </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00499">499</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

<p>References <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00133">_populatedLayerIndex</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00209">processEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="aa95f1ffefdea07fd542085667f469588"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::DeepAnalysisProcessor::processRunHeader </td>
          <td>(</td>
          <td class="paramtype">LCRunHeader *&#160;</td>
          <td class="paramname"><em>run</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called for every run. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00193">193</a> of file <a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a765b1b5e6845a77acfd690b482a7d3de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lcio::StringVec CALICE::DeepAnalysisProcessor::_colNamesModuleConnection</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the conditions data collection containing module connection. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00111">111</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7968c4389c0d106e7d9779c42ba95c2e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lcio::StringVec CALICE::DeepAnalysisProcessor::_colNamesModuleLocation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the conditions data collection containing module location. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00109">109</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a16a1b8281abc3829debe0bb943c046c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;float&gt; &gt; CALICE::DeepAnalysisProcessor::_gevPerMip</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store the conversion factors from E[MIPs] to E[GeV] (depend on the sampling fractions and on the index of the occupied layer). </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00130">130</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00490">GeVperMip()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

</div>
</div>
<a class="anchor" id="ac7000e5b7e29c0d18a43a3860cbcab06"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lcio::StringVec CALICE::DeepAnalysisProcessor::_inputCollectionNames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>List of input hit collection names (default: CalorimeterHits). </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00103">103</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>, <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00209">processEvent()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

</div>
</div>
<a class="anchor" id="a8eb73fb7bc4baec3832dfe7f51c3ae7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;MappingAndAlignment&gt; CALICE::DeepAnalysisProcessor::_mapping</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Vector of MappingAndAlignment (which handles the translation into unique layer/cell ids and 3D space coordinates). </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00124">124</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00179">moduleConnectionChanged()</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00167">moduleLocationChanged()</a>, <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00156">moduleTypeChanged()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

</div>
</div>
<a class="anchor" id="a214ca8e9c5941d2b760e94d18e5cfec2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;MultipleConditionsChangeDelegator&lt;<a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a>&gt; &gt; CALICE::DeepAnalysisProcessor::_moduleConnectionChange</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to listen for module connection change (conditions data). </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00120">120</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a95b27435a9ac32c1f1410a87de569383"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;MultipleConditionsChangeDelegator&lt;<a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a>&gt; &gt; CALICE::DeepAnalysisProcessor::_moduleLocationChange</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to listen for module location change (conditions data). </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00117">117</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="a6edf54b93f74b7488426301b1f5d71b0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;MultipleConditionsChangeDelegator&lt;<a class="el" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a>&gt; &gt; CALICE::DeepAnalysisProcessor::_moduleTypeChange</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper to listen for module type change (conditions data). </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00114">114</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa8c5ca35a74569b33c641242eb559cc5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;int&gt; &gt; CALICE::DeepAnalysisProcessor::_populatedLayerIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store the index of layers containing hits. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00133">133</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00499">PopulatedLayerIndex()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

</div>
</div>
<a class="anchor" id="a8f722ccb18f82134e2197547eee6244c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CALICE::DeepAnalysisProcessor::_samplingFactor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sampling factor (in GeV) for transforming E[GeV] in E[MIPs], default MC value 875 keV. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00137">137</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

</div>
</div>
<a class="anchor" id="a386ae896d3e81b1e8e5335bdd99ef639"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lcio::FloatVec CALICE::DeepAnalysisProcessor::_samplingFractionA</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>First part of parametrisation of the sampling fraction. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00135">135</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

</div>
</div>
<a class="anchor" id="ae663c30fc08de31bedc6792110247b15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lcio::FloatVec CALICE::DeepAnalysisProcessor::_samplingFractionB</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Second part of parametrisation of the sampling fraction. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00136">136</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00508">updateCorrelations()</a>.</p>

</div>
</div>
<a class="anchor" id="abced7b7536bce66e026bf27acb7f02a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lcio::FloatVec CALICE::DeepAnalysisProcessor::_thresholds</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Thresholds to be put into deep analysis algorithm. </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00102">102</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00209">processEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a6f07cd4ccd368734695eecc8692c2e3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CALICE::DeepAnalysisProcessor::_viewConnectionTree</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>View the mapping between channels and modules whenever the module location or module connection conditions data change (set to 0 or !=0). </p>

<p>Definition at line <a class="el" href="DeepAnalysisProcessor_8hh_source.html#l00127">127</a> of file <a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a>.</p>

<p>Referenced by <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor()</a>, and <a class="el" href="DeepAnalysisProcessor_8cc_source.html#l00120">init()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="DeepAnalysisProcessor_8hh_source.html">DeepAnalysisProcessor.hh</a></li>
<li><a class="el" href="DeepAnalysisProcessor_8cc_source.html">DeepAnalysisProcessor.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
