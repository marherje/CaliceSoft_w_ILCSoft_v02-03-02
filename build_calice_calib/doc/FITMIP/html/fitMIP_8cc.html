<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>FITMIP: fitMIP.cc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FITMIP
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_c2968450317907f1f2fd69207025813d.html">calice_calib</a></li><li class="navelem"><a class="el" href="dir_cf72b912961b47d6cc786cac8e0dc9fc.html">fitmip</a></li><li class="navelem"><a class="el" href="dir_54f3cb1d5307a6029632dcf36be90825.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">fitMIP.cc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Example of main function for finding the MIP calibration values using classes <a class="el" href="classLangaus.html" title="Class for handling with a fitting function defined as , where  is a Landau function and  is a Gaus fu...">Langaus</a>, <a class="el" href="classBezier.html" title="Class for creation of Bezier curve with maximum order. ">Bezier</a> and Fitlikelihood.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;Fitlikelihood.hh&quot;</code><br/>
<code>#include &quot;Langaus.hh&quot;</code><br/>
<code>#include &lt;fstream&gt;</code><br/>
<code>#include &lt;iostream&gt;</code><br/>
<code>#include &lt;cstdlib&gt;</code><br/>
<code>#include &lt;stdexcept&gt;</code><br/>
<code>#include &lt;vector&gt;</code><br/>
<code>#include &quot;RooFit.h&quot;</code><br/>
<code>#include &quot;RooPlot.h&quot;</code><br/>
<code>#include &quot;TGraph.h&quot;</code><br/>
</div>
<p><a href="fitMIP_8cc_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab4c8bbfdf14fcf9df807354625066d9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4c8bbfdf14fcf9df807354625066d9e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>setParameters</b> (int argc, char *argv[])</td></tr>
<tr class="separator:ab4c8bbfdf14fcf9df807354625066d9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a452435a1d80fe91993338af59a9302ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a452435a1d80fe91993338af59a9302ef"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printParameters</b> ()</td></tr>
<tr class="separator:a452435a1d80fe91993338af59a9302ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d20b69b0ad703df78459e1033d5c1d4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0d20b69b0ad703df78459e1033d5c1d4"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>printHelp</b> ()</td></tr>
<tr class="separator:a0d20b69b0ad703df78459e1033d5c1d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7443a64a7573acee22295d1b67ab3a29"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7443a64a7573acee22295d1b67ab3a29"></a>
const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fitMIP_8cc.html#a7443a64a7573acee22295d1b67ab3a29">_minEntries</a> = 10</td></tr>
<tr class="memdesc:a7443a64a7573acee22295d1b67ab3a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">minimal number of entries for one cell. <br/></td></tr>
<tr class="separator:a7443a64a7573acee22295d1b67ab3a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16706f112e996cac7fd9366a878ab815"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a16706f112e996cac7fd9366a878ab815"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fitMIP_8cc.html#a16706f112e996cac7fd9366a878ab815">_minMean</a> = 0</td></tr>
<tr class="memdesc:a16706f112e996cac7fd9366a878ab815"><td class="mdescLeft">&#160;</td><td class="mdescRight">minimal value of mean of deposited energy for one cell. <br/></td></tr>
<tr class="separator:a16706f112e996cac7fd9366a878ab815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13b1b1c4f2eb2502a5cb82b8f3fb944"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa13b1b1c4f2eb2502a5cb82b8f3fb944"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fitMIP_8cc.html#aa13b1b1c4f2eb2502a5cb82b8f3fb944">_parMax</a> [3] = {400,2000,400}</td></tr>
<tr class="memdesc:aa13b1b1c4f2eb2502a5cb82b8f3fb944"><td class="mdescLeft">&#160;</td><td class="mdescRight">upper limits for parameters of fit (Landau sigma, Landau mean, Gaus sigma). <br/></td></tr>
<tr class="separator:aa13b1b1c4f2eb2502a5cb82b8f3fb944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f448a5d4f24a239c7aaaa01c9170ec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93f448a5d4f24a239c7aaaa01c9170ec"></a>
const double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fitMIP_8cc.html#a93f448a5d4f24a239c7aaaa01c9170ec">_parMin</a> [3] = {0, 0, 0}</td></tr>
<tr class="memdesc:a93f448a5d4f24a239c7aaaa01c9170ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">lower limits for parameters of fit (Landau sigma, Landau mean, Gaus sigma). <br/></td></tr>
<tr class="separator:a93f448a5d4f24a239c7aaaa01c9170ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4790d221be08201b9e633f72c16c1b7a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4790d221be08201b9e633f72c16c1b7a"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>_infilename</b></td></tr>
<tr class="separator:a4790d221be08201b9e633f72c16c1b7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa599be76b790451e9e5a791f16a48753"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa599be76b790451e9e5a791f16a48753"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>_histoname</b></td></tr>
<tr class="separator:aa599be76b790451e9e5a791f16a48753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0332fda46e65171dcf6e3254dffe4a83"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0332fda46e65171dcf6e3254dffe4a83"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>_outroot</b></td></tr>
<tr class="separator:a0332fda46e65171dcf6e3254dffe4a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02d38e3be01d5b7c838fa084b7fdad2c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02d38e3be01d5b7c838fa084b7fdad2c"></a>
const char *&#160;</td><td class="memItemRight" valign="bottom"><b>_outfileName</b></td></tr>
<tr class="separator:a02d38e3be01d5b7c838fa084b7fdad2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77135d492b7d33298949a166bb59fef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa77135d492b7d33298949a166bb59fef"></a>
ofstream&#160;</td><td class="memItemRight" valign="bottom"><b>_outfile</b></td></tr>
<tr class="separator:aa77135d492b7d33298949a166bb59fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56e7ea6c5ceeed3983f71ccf0e79f336"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56e7ea6c5ceeed3983f71ccf0e79f336"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_range</b> =3</td></tr>
<tr class="separator:a56e7ea6c5ceeed3983f71ccf0e79f336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a0d26f3fe660e2bcb87aba202a659f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9a0d26f3fe660e2bcb87aba202a659f1"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_leftRange</b></td></tr>
<tr class="separator:a9a0d26f3fe660e2bcb87aba202a659f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46620d74858262c2e00dc592e4f551e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a46620d74858262c2e00dc592e4f551e4"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_rightRange</b></td></tr>
<tr class="separator:a46620d74858262c2e00dc592e4f551e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac09d1489922db6ab2c8f3b362efe21ef"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac09d1489922db6ab2c8f3b362efe21ef"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_rangeExplicit</b> =0</td></tr>
<tr class="separator:ac09d1489922db6ab2c8f3b362efe21ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5beae06a41d6d1defed35ef8c4627387"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5beae06a41d6d1defed35ef8c4627387"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_mod</b></td></tr>
<tr class="separator:a5beae06a41d6d1defed35ef8c4627387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8804812bd68d3a383ac0083a1c6b3646"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8804812bd68d3a383ac0083a1c6b3646"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_chip</b></td></tr>
<tr class="separator:a8804812bd68d3a383ac0083a1c6b3646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a96bc51a6453df1fb38c1a97a1d3b50"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a96bc51a6453df1fb38c1a97a1d3b50"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_chan</b></td></tr>
<tr class="separator:a2a96bc51a6453df1fb38c1a97a1d3b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa77c755bcebcae64b7b19461a74435c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa77c755bcebcae64b7b19461a74435c2"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>SHIFT</b> =8</td></tr>
<tr class="separator:aa77c755bcebcae64b7b19461a74435c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9607576d2834b61c56893a694de6055f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9607576d2834b61c56893a694de6055f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fitMIP_8cc.html#a9607576d2834b61c56893a694de6055f">_rebin</a> =8</td></tr>
<tr class="memdesc:a9607576d2834b61c56893a694de6055f"><td class="mdescLeft">&#160;</td><td class="mdescRight">rebining of input histogram for fit. <br/></td></tr>
<tr class="separator:a9607576d2834b61c56893a694de6055f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4887120b9f196288b44ee0973a5c6f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab4887120b9f196288b44ee0973a5c6f4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fitMIP_8cc.html#ab4887120b9f196288b44ee0973a5c6f4">_Bezierorder</a> =20</td></tr>
<tr class="memdesc:ab4887120b9f196288b44ee0973a5c6f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">order of <a class="el" href="classBezier.html" title="Class for creation of Bezier curve with maximum order. ">Bezier</a> curve. <br/></td></tr>
<tr class="separator:ab4887120b9f196288b44ee0973a5c6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cd2969bf40e425c94ea073bdad6dbe2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9cd2969bf40e425c94ea073bdad6dbe2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fitMIP_8cc.html#a9cd2969bf40e425c94ea073bdad6dbe2">_Bezierrebin</a> =18</td></tr>
<tr class="memdesc:a9cd2969bf40e425c94ea073bdad6dbe2"><td class="mdescLeft">&#160;</td><td class="mdescRight">rebining of input histogram for <a class="el" href="classBezier.html" title="Class for creation of Bezier curve with maximum order. ">Bezier</a> curve. <br/></td></tr>
<tr class="separator:a9cd2969bf40e425c94ea073bdad6dbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64acc40a2ab30c2483b486413baa8d99"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64acc40a2ab30c2483b486413baa8d99"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_isRootfile</b></td></tr>
<tr class="separator:a64acc40a2ab30c2483b486413baa8d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a759aca23cf5fbe2c447e253db60d5e57"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a759aca23cf5fbe2c447e253db60d5e57"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_isOutfile</b></td></tr>
<tr class="separator:a759aca23cf5fbe2c447e253db60d5e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06e46e62b5c3fa57b7dfee47d8ffbd0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af06e46e62b5c3fa57b7dfee47d8ffbd0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_useFFT</b> =0</td></tr>
<tr class="separator:af06e46e62b5c3fa57b7dfee47d8ffbd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Example of main function for finding the MIP calibration values using classes <a class="el" href="classLangaus.html" title="Class for handling with a fitting function defined as , where  is a Landau function and  is a Gaus fu...">Langaus</a>, <a class="el" href="classBezier.html" title="Class for creation of Bezier curve with maximum order. ">Bezier</a> and Fitlikelihood. </p>
<p>The mip calibration value is found by fitting the histogram by function defined like convolution of Landau and Gaus function. The mip calibration value is then the most probable value of function (MPV). For rough estimation of MPV is used <a class="el" href="classBezier.html" title="Class for creation of Bezier curve with maximum order. ">Bezier</a> curve implemented in class <a class="el" href="classBezier.html" title="Class for creation of Bezier curve with maximum order. ">Bezier</a>. Be aware with tuning your own main program, especially with tuning of direct numerical calculation of convolution integral. Particulary with fine tuning of lower limit of Gaus sigma. More in <a class="el" href="classLangaus.html" title="Class for handling with a fitting function defined as , where  is a Landau function and  is a Gaus fu...">Langaus</a>.</p>
<p>Detailed description follows here. </p>
<dl class="section author"><dt>Author</dt><dd>Boris Bulanek, DESY </dd></dl>
<dl class="section date"><dt>Date</dt><dd>June 2010</dd></dl>
<div class="fragment"><div class="line">fitMipRun -infile &lt;root file input&gt; -histoname &lt;name of histogram&gt; [ -outtxt &lt;txt output&gt; -outroot &lt;root file output&gt;   -range &lt;range(float)&gt; -rebin &lt;rebin&gt; ]</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">inFile</td><td>Relative entry to the input root file with histograms. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">outpath</td><td>Relative path for the output files. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">range</td><td>Range of fit given as <img class="formulaInl" alt="$\left<\mbox{left},\mbox{right}\cdot\mbox{peakInit}\right>$" src="form_15.png"/>, where peakInit is roughly found peak. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition in file <a class="el" href="fitMIP_8cc_source.html">fitMIP.cc</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
