<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CALIBMULTI: CALICE::multiCalibrator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CALIBMULTI
   &#160;<span id="projectnumber">1.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>CALICE</b></li><li class="navelem"><a class="el" href="classCALICE_1_1multiCalibrator.html">multiCalibrator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classCALICE_1_1multiCalibrator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CALICE::multiCalibrator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Processor to add PAR_MULTI to the event and calibrate the threshold.  
 <a href="classCALICE_1_1multiCalibrator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="multiCalibrator_8hh_source.html">multiCalibrator.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CALICE::multiCalibrator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCALICE_1_1multiCalibrator.png" usemap="#CALICE::multiCalibrator_map" alt=""/>
  <map id="CALICE::multiCalibrator_map" name="CALICE::multiCalibrator_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad18beb97b5deccfa062ed368644fce16"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad18beb97b5deccfa062ed368644fce16"></a>
Processor *&#160;</td><td class="memItemRight" valign="bottom"><b>newProcessor</b> ()</td></tr>
<tr class="separator:ad18beb97b5deccfa062ed368644fce16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a3e419d429f42b6ea7aae4b52428ce4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a3e419d429f42b6ea7aae4b52428ce4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:a8a3e419d429f42b6ea7aae4b52428ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d14b42a9ce88fc17515613efe997bc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67d14b42a9ce88fc17515613efe997bc"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>processRunHeader</b> (LCRunHeader *run)</td></tr>
<tr class="separator:a67d14b42a9ce88fc17515613efe997bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7664b108349a27d1497d52d55001dc41"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7664b108349a27d1497d52d55001dc41"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>processEvent</b> (LCEvent *evt)</td></tr>
<tr class="separator:a7664b108349a27d1497d52d55001dc41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a156e6823b5819c32c0c1530f9cf17787"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a156e6823b5819c32c0c1530f9cf17787"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="separator:a156e6823b5819c32c0c1530f9cf17787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae74a036fde33453359d9938bacd8475"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae74a036fde33453359d9938bacd8475"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>conditionsChanged</b> (lcio::LCCollection *col)</td></tr>
<tr class="separator:aae74a036fde33453359d9938bacd8475"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2c6dadc7bd856f48ebabb2ff1f3eb24d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c6dadc7bd856f48ebabb2ff1f3eb24d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_adcColName</b></td></tr>
<tr class="separator:a2c6dadc7bd856f48ebabb2ff1f3eb24d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dcf1a278390cf22a27f873b03ecaf42"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9dcf1a278390cf22a27f873b03ecaf42"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_parNameTriggerEvent</b></td></tr>
<tr class="separator:a9dcf1a278390cf22a27f873b03ecaf42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243d6d66340eba9a2cadfa2387b20c0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a243d6d66340eba9a2cadfa2387b20c0f"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_outputFilePath</b></td></tr>
<tr class="separator:a243d6d66340eba9a2cadfa2387b20c0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd73797da60310a0a4bcfd495204a855"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acd73797da60310a0a4bcfd495204a855"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_connectionColName</b></td></tr>
<tr class="separator:acd73797da60310a0a4bcfd495204a855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3f8d6ece5b4b56d26a9864ee0618ce5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac3f8d6ece5b4b56d26a9864ee0618ce5"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_referenceThresholdColName</b></td></tr>
<tr class="separator:ac3f8d6ece5b4b56d26a9864ee0618ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3bb02c62940673fb59d5250cc294d6d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af3bb02c62940673fb59d5250cc294d6d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_skipCalibration</b></td></tr>
<tr class="separator:af3bb02c62940673fb59d5250cc294d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa88fe075d6603ee3c78158bd742b91e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa88fe075d6603ee3c78158bd742b91e4"></a>
FloatVec&#160;</td><td class="memItemRight" valign="bottom"><b>_signalBinning</b></td></tr>
<tr class="separator:aa88fe075d6603ee3c78158bd742b91e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8b4bb7da03c22ddf35a8f94c7bb1a0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d8b4bb7da03c22ddf35a8f94c7bb1a0"></a>
FloatVec&#160;</td><td class="memItemRight" valign="bottom"><b>_purityList</b></td></tr>
<tr class="separator:a8d8b4bb7da03c22ddf35a8f94c7bb1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc0a223ac7ef8119b3b0a987eb44adc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7fc0a223ac7ef8119b3b0a987eb44adc"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><b>_gausRange</b></td></tr>
<tr class="separator:a7fc0a223ac7ef8119b3b0a987eb44adc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a007fb7a565ad1ec0eb2719981203f8fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a007fb7a565ad1ec0eb2719981203f8fe"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_rebin</b></td></tr>
<tr class="separator:a007fb7a565ad1ec0eb2719981203f8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dcaedfa4e29bad191bc22016eca0355"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5dcaedfa4e29bad191bc22016eca0355"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_granFac</b></td></tr>
<tr class="separator:a5dcaedfa4e29bad191bc22016eca0355"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a35b415a32f3bf4f78a4bb5adc3f96470"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a35b415a32f3bf4f78a4bb5adc3f96470"></a>
typedef std::map&lt; float, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>ThresholdMap_t</b></td></tr>
<tr class="separator:a35b415a32f3bf4f78a4bb5adc3f96470"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0f54d7d5a1e9b4469bc59ae7b2d3a204"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f54d7d5a1e9b4469bc59ae7b2d3a204"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>fillHist</b> (TH1F *hist, LCEvent *evt)</td></tr>
<tr class="separator:a0f54d7d5a1e9b4469bc59ae7b2d3a204"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a33b407cfd46e3ac56bdc30947e0eb2e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a33b407cfd46e3ac56bdc30947e0eb2e1"></a>
lccd::LCCDTimeStamp&#160;</td><td class="memItemRight" valign="bottom"><b>_startTime</b></td></tr>
<tr class="separator:a33b407cfd46e3ac56bdc30947e0eb2e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d7b62ae49be9bad5c7eb8a7f270f58"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06d7b62ae49be9bad5c7eb8a7f270f58"></a>
lccd::LCCDTimeStamp&#160;</td><td class="memItemRight" valign="bottom"><b>_endTime</b></td></tr>
<tr class="separator:a06d7b62ae49be9bad5c7eb8a7f270f58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcabcaf4253473ac3d99df1f162da5f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfcabcaf4253473ac3d99df1f162da5f"></a>
unsigned&#160;</td><td class="memItemRight" valign="bottom"><b>_runNumber</b></td></tr>
<tr class="separator:acfcabcaf4253473ac3d99df1f162da5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc05f707dab2f811d755300d480d57f6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc05f707dab2f811d755300d480d57f6"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_crate</b></td></tr>
<tr class="separator:afc05f707dab2f811d755300d480d57f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88106b2a17b0308851dfdace4d9fd8a4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88106b2a17b0308851dfdace4d9fd8a4"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_slot</b></td></tr>
<tr class="separator:a88106b2a17b0308851dfdace4d9fd8a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e31fc8c645ee72b61deafacb51ee6b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e31fc8c645ee72b61deafacb51ee6b5"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_fe</b></td></tr>
<tr class="separator:a7e31fc8c645ee72b61deafacb51ee6b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8423d1b22561196f45134990b6e3be5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8423d1b22561196f45134990b6e3be5"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_chip</b></td></tr>
<tr class="separator:ae8423d1b22561196f45134990b6e3be5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a14cc1103c22d000ea6565619bc98ee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a14cc1103c22d000ea6565619bc98ee"></a>
unsigned int&#160;</td><td class="memItemRight" valign="bottom"><b>_channel</b></td></tr>
<tr class="separator:a1a14cc1103c22d000ea6565619bc98ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5087ce6fdd939090347791bc86a02025"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5087ce6fdd939090347791bc86a02025"></a>
TH1F *&#160;</td><td class="memItemRight" valign="bottom"><b>_sigHist</b></td></tr>
<tr class="separator:a5087ce6fdd939090347791bc86a02025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf5102e26fbe03d997813b06eea13818"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf5102e26fbe03d997813b06eea13818"></a>
TH1F *&#160;</td><td class="memItemRight" valign="bottom"><b>_pedHist</b></td></tr>
<tr class="separator:abf5102e26fbe03d997813b06eea13818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb7ef44a6a00a92da355ee43dbcc147"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adcb7ef44a6a00a92da355ee43dbcc147"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_connectionAvailable</b></td></tr>
<tr class="separator:adcb7ef44a6a00a92da355ee43dbcc147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2eccfcf6a4b10389fabf83c743a9b0d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2eccfcf6a4b10389fabf83c743a9b0d"></a>
ThresholdMap_t&#160;</td><td class="memItemRight" valign="bottom"><b>_referenceThresholds</b></td></tr>
<tr class="separator:ac2eccfcf6a4b10389fabf83c743a9b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processor to add PAR_MULTI to the event and calibrate the threshold. </p>
<p>This processor adds an event parameter containing the amplitude of the analog multiplicity counter readout. In addition a histogram of the amplitudes is collected and fitted to calibrate the multi threshold. The calibration procedure can be skipped by processor parameter. In this case, only the event parameter is added.</p>
<p>The mapping of the multiplicity counter connection is read from the LCIO stream.</p>
<p>The results of the calibration can be written directly to a LCCD database. To enable this feature, MULTI_DBINIT has to contain a valid database connection string for write access at compile time. In this case, two processor parameters to set the output folders for thresholds and fraction of rejected events are available. If the string for a folder is empty, the writing of this folder will be skipped.</p>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'Ben'+'ja'+'min'+'.L'+'utz'+'@d'+'esy'+'.d'+'e'; return false;">Benja<span style="display: none;">.nosp@m.</span>min.<span style="display: none;">.nosp@m.</span>Lutz@<span style="display: none;">.nosp@m.</span>desy<span style="display: none;">.nosp@m.</span>.de</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Sep 2008 </dd></dl>

<p>Definition at line <a class="el" href="multiCalibrator_8hh_source.html#l00036">36</a> of file <a class="el" href="multiCalibrator_8hh_source.html">multiCalibrator.hh</a>.</p>
</div><hr/>The documentation for this class was generated from the following files:<ul>
<li>/nfs/dust/ilc/user/marquezh/CaliceSoft_w_ILCSoft_v02-03-02/calice_calib/calibmulti/include/<a class="el" href="multiCalibrator_8hh_source.html">multiCalibrator.hh</a></li>
<li>/nfs/dust/ilc/user/marquezh/CaliceSoft_w_ILCSoft_v02-03-02/calice_calib/calibmulti/src/<a class="el" href="multiCalibrator_8cc_source.html">multiCalibrator.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
