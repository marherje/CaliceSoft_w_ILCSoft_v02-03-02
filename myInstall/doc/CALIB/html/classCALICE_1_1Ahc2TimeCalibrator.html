<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CALIB: CALICE::Ahc2TimeCalibrator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CALIB
   &#160;<span id="projectnumber">1.1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceCALICE.html">CALICE</a></li><li class="navelem"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html">Ahc2TimeCalibrator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">CALICE::Ahc2TimeCalibrator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Processor that does the SiPM calibration.  
 <a href="classCALICE_1_1Ahc2TimeCalibrator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Ahc2TimeCalibrator_8hh_source.html">Ahc2TimeCalibrator.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CALICE::Ahc2TimeCalibrator:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCALICE_1_1Ahc2TimeCalibrator.png" usemap="#CALICE::Ahc2TimeCalibrator_map" alt=""/>
  <map id="CALICE::Ahc2TimeCalibrator_map" name="CALICE::Ahc2TimeCalibrator_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1Hit.html">Hit</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a62fcfe64c82ded7d6b18a097eac0e227"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62fcfe64c82ded7d6b18a097eac0e227"></a>
<a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html">Ahc2TimeCalibrator</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>newProcessor</b> ()</td></tr>
<tr class="separator:a62fcfe64c82ded7d6b18a097eac0e227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd9c70b3c5e877cf9453576cdd9fc7f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1fd9c70b3c5e877cf9453576cdd9fc7f"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:a1fd9c70b3c5e877cf9453576cdd9fc7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e46000ab9e97cbf91ed0b5227fecbd1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9e46000ab9e97cbf91ed0b5227fecbd1"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>processEvent</b> (LCEvent *evt)</td></tr>
<tr class="separator:a9e46000ab9e97cbf91ed0b5227fecbd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c604dd3e54a64f208d81bfb9fce8677"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2c604dd3e54a64f208d81bfb9fce8677"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="separator:a2c604dd3e54a64f208d81bfb9fce8677"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8f4d7a95735401fbc9f2743fc0c3ac8e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f4d7a95735401fbc9f2743fc0c3ac8e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>FillContainer</b> (LCEvent *evt)</td></tr>
<tr class="separator:a8f4d7a95735401fbc9f2743fc0c3ac8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2039365be1b6ce5fdb18a9daaec4d5f8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2039365be1b6ce5fdb18a9daaec4d5f8"></a>
<a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1Hit.html">Hit</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ReadLabviewBlock</b> (const LabviewBlock2 &amp;block)</td></tr>
<tr class="separator:a2039365be1b6ce5fdb18a9daaec4d5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f2d63f6a2d905854f342adcd97c085d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5f2d63f6a2d905854f342adcd97c085d"></a>
<a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1Hit.html">Hit</a>&#160;</td><td class="memItemRight" valign="bottom"><b>ReadEUDAQBlock</b> (const EUDAQBlock2016 &amp;block, int channel)</td></tr>
<tr class="separator:a5f2d63f6a2d905854f342adcd97c085d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9498da3d788f62db60161e3007341163"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9498da3d788f62db60161e3007341163"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>ProcessHit</b> (<a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1Hit.html">Hit</a> *hit)</td></tr>
<tr class="separator:a9498da3d788f62db60161e3007341163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02b4d7022243d6027d9e39657bdb2935"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02b4d7022243d6027d9e39657bdb2935"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>FitCalibration</b> ()</td></tr>
<tr class="separator:a02b4d7022243d6027d9e39657bdb2935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a4c34a90bef00000a74b804e82b45ea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2a4c34a90bef00000a74b804e82b45ea"></a>
std::pair&lt; float, float &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>calculateSlope</b> (int moduleNr, int chipNr, int refMemCell)</td></tr>
<tr class="separator:a2a4c34a90bef00000a74b804e82b45ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab930ac5be7053794d7f2df6bfe680614"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab930ac5be7053794d7f2df6bfe680614"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>WriteSlopes</b> (std::string fname)</td></tr>
<tr class="separator:ab930ac5be7053794d7f2df6bfe680614"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1f9ee17b56d41367cba2a742c6d395e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1f9ee17b56d41367cba2a742c6d395e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>WriteOffsets</b> (std::string fname)</td></tr>
<tr class="separator:ac1f9ee17b56d41367cba2a742c6d395e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a744f1b022a5165b0ff981854a15a0fa8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a744f1b022a5165b0ff981854a15a0fa8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>WriteNonLinearity</b> (std::string fname)</td></tr>
<tr class="separator:a744f1b022a5165b0ff981854a15a0fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70a98f2549e828f4ef7296d16832312d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70a98f2549e828f4ef7296d16832312d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>WriteTimeWalk</b> (std::string fname)</td></tr>
<tr class="separator:a70a98f2549e828f4ef7296d16832312d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a4ad9a1a2332f58a2c3360f1b445f983b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ad9a1a2332f58a2c3360f1b445f983b"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::vector<br class="typebreak"/>
&lt; std::pair&lt; float, short &gt; &gt; &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_sortedHitContainer</b></td></tr>
<tr class="separator:a4ad9a1a2332f58a2c3360f1b445f983b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d278ad093772556244b07621793fa0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a32d278ad093772556244b07621793fa0"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_slopes</b></td></tr>
<tr class="separator:a32d278ad093772556244b07621793fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142b706b13a6463b3777ce834866da12"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a142b706b13a6463b3777ce834866da12"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_offsets</b></td></tr>
<tr class="separator:a142b706b13a6463b3777ce834866da12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a220589cf03693be989b7623ced2c7e9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a220589cf03693be989b7623ced2c7e9e"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_nonLin_A</b></td></tr>
<tr class="separator:a220589cf03693be989b7623ced2c7e9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9140f56412c2aec3e7124155a051b9a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9140f56412c2aec3e7124155a051b9a3"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_nonLin_B</b></td></tr>
<tr class="separator:a9140f56412c2aec3e7124155a051b9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa07376af37b1f1a9998c44c530c9be5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa07376af37b1f1a9998c44c530c9be5c"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_nonLin_C</b></td></tr>
<tr class="separator:aa07376af37b1f1a9998c44c530c9be5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0a16941e1683907356d77461dd45eba"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0a16941e1683907356d77461dd45eba"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_timeWalk_A</b></td></tr>
<tr class="separator:ad0a16941e1683907356d77461dd45eba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4db838d0d776f380426f63860bbaa214"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4db838d0d776f380426f63860bbaa214"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_timeWalk_B</b></td></tr>
<tr class="separator:a4db838d0d776f380426f63860bbaa214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17084934e1788a37037f9e130db4bbed"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17084934e1788a37037f9e130db4bbed"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
std::map&lt; int, <a class="el" href="structCALICE_1_1Ahc2TimeCalibrator_1_1CalibValue.html">CalibValue</a> &gt; &gt; &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_m_calibration_timeWalk_C</b></td></tr>
<tr class="separator:a17084934e1788a37037f9e130db4bbed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5b8cbd07c30249556a8e2a36320d430"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5b8cbd07c30249556a8e2a36320d430"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_nChannels</b></td></tr>
<tr class="separator:aa5b8cbd07c30249556a8e2a36320d430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f493e5b59d9067a36743f9f680294f0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f493e5b59d9067a36743f9f680294f0"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_tdcError</b></td></tr>
<tr class="separator:a0f493e5b59d9067a36743f9f680294f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa849707a3a42de7e23c9f4eba28034c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa849707a3a42de7e23c9f4eba28034c5"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><b>_timeReferenceError</b></td></tr>
<tr class="separator:aa849707a3a42de7e23c9f4eba28034c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f129629f332173ceb51063af096d2c5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1f129629f332173ceb51063af096d2c5"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a1f129629f332173ceb51063af096d2c5">_inputColName</a></td></tr>
<tr class="memdesc:a1f129629f332173ceb51063af096d2c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the input collection <br/></td></tr>
<tr class="separator:a1f129629f332173ceb51063af096d2c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5d3fd865838898b136b4a67c62947b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f5d3fd865838898b136b4a67c62947b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a7f5d3fd865838898b136b4a67c62947b">_ahcHitOutputColName</a></td></tr>
<tr class="memdesc:a7f5d3fd865838898b136b4a67c62947b"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the output AHC hit collection <br/></td></tr>
<tr class="separator:a7f5d3fd865838898b136b4a67c62947b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3acabba4b48f6b02b20e620ff5fbfe1e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3acabba4b48f6b02b20e620ff5fbfe1e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a3acabba4b48f6b02b20e620ff5fbfe1e">_mappingProcessorName</a></td></tr>
<tr class="memdesc:a3acabba4b48f6b02b20e620ff5fbfe1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the mapping <br/></td></tr>
<tr class="separator:a3acabba4b48f6b02b20e620ff5fbfe1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a27e778eeb532c45e45066c8a62e687"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1a27e778eeb532c45e45066c8a62e687"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_Ahc2HardwareConnectionName</b></td></tr>
<tr class="separator:a1a27e778eeb532c45e45066c8a62e687"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4514484c08b455b1aeacdcb9437b5891"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4514484c08b455b1aeacdcb9437b5891"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a4514484c08b455b1aeacdcb9437b5891">_temperatureProcessorName</a></td></tr>
<tr class="memdesc:a4514484c08b455b1aeacdcb9437b5891"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the SiPM temperature <br/></td></tr>
<tr class="separator:a4514484c08b455b1aeacdcb9437b5891"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e782c335d79533e8a07de0a4cd9e548"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e782c335d79533e8a07de0a4cd9e548"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a6e782c335d79533e8a07de0a4cd9e548">_BIFCollectionName</a></td></tr>
<tr class="memdesc:a6e782c335d79533e8a07de0a4cd9e548"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the SiPM temperature <br/></td></tr>
<tr class="separator:a6e782c335d79533e8a07de0a4cd9e548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6892b48b05b8004283567cb4b92a4764"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6892b48b05b8004283567cb4b92a4764"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_BIFTriggerInputSource</b></td></tr>
<tr class="separator:a6892b48b05b8004283567cb4b92a4764"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5b5c93d447b33cac8235999fd187653"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5b5c93d447b33cac8235999fd187653"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_referenceTimeType</b></td></tr>
<tr class="separator:ab5b5c93d447b33cac8235999fd187653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cdc5e9bc932c58edbd46c3bbca5230"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56cdc5e9bc932c58edbd46c3bbca5230"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_outputFileName_timeSlopes</b></td></tr>
<tr class="separator:a56cdc5e9bc932c58edbd46c3bbca5230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408ffd6f123e860d267744f7fa894783"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a408ffd6f123e860d267744f7fa894783"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_outputFileName_timeOffsets</b></td></tr>
<tr class="separator:a408ffd6f123e860d267744f7fa894783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ebb2345b37be10960e788ff9fb1160e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4ebb2345b37be10960e788ff9fb1160e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_outputFileName_timeNonLinearity</b></td></tr>
<tr class="separator:a4ebb2345b37be10960e788ff9fb1160e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7366ba658069d92b966e321aa340fb31"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7366ba658069d92b966e321aa340fb31"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_outputFileName_timeWalk</b></td></tr>
<tr class="separator:a7366ba658069d92b966e321aa340fb31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4d1078711558d163eeb66822d8dd94a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa4d1078711558d163eeb66822d8dd94a"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_skipFirstMemoryCell</b></td></tr>
<tr class="separator:aa4d1078711558d163eeb66822d8dd94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c2ba9abf8dea2d2a8c7d197dde52c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79c2ba9abf8dea2d2a8c7d197dde52c2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_minHitsFit</b></td></tr>
<tr class="separator:a79c2ba9abf8dea2d2a8c7d197dde52c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866c3efc071b29bcdf8a3d4e12539cc9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a866c3efc071b29bcdf8a3d4e12539cc9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_maxHitsFit</b></td></tr>
<tr class="separator:a866c3efc071b29bcdf8a3d4e12539cc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36014aff492d28ca737829e1158c9a4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36014aff492d28ca737829e1158c9a4b"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a36014aff492d28ca737829e1158c9a4b">_cellDescriptionProcessorName</a></td></tr>
<tr class="memdesc:a36014aff492d28ca737829e1158c9a4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the cells description <br/></td></tr>
<tr class="separator:a36014aff492d28ca737829e1158c9a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7c15147b77f585c769a7e1dc017af2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abe7c15147b77f585c769a7e1dc017af2"></a>
MappedContainer<br class="typebreak"/>
&lt; CellDescription &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#abe7c15147b77f585c769a7e1dc017af2">_cellDescriptions</a></td></tr>
<tr class="memdesc:abe7c15147b77f585c769a7e1dc017af2"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapped container of cells description <br/></td></tr>
<tr class="separator:abe7c15147b77f585c769a7e1dc017af2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c2d4119029e9ce8a77047b7b545c6c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a64c2d4119029e9ce8a77047b7b545c6c"></a>
const Mapper *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a64c2d4119029e9ce8a77047b7b545c6c">_mapper</a></td></tr>
<tr class="memdesc:a64c2d4119029e9ce8a77047b7b545c6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mapper <br/></td></tr>
<tr class="separator:a64c2d4119029e9ce8a77047b7b545c6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade953481012d4286540e924df6e50165"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade953481012d4286540e924df6e50165"></a>
MappedContainer&lt; SimpleValue &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#ade953481012d4286540e924df6e50165">_temperatureContainer</a></td></tr>
<tr class="memdesc:ade953481012d4286540e924df6e50165"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapped container of cells temperature <br/></td></tr>
<tr class="separator:ade953481012d4286540e924df6e50165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade5aaf5f3727eb0ee1e1d9dd1c4d484d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade5aaf5f3727eb0ee1e1d9dd1c4d484d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#ade5aaf5f3727eb0ee1e1d9dd1c4d484d">_newdataformat</a></td></tr>
<tr class="memdesc:ade5aaf5f3727eb0ee1e1d9dd1c4d484d"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag for the new data format in EUDAQ <br/></td></tr>
<tr class="separator:ade5aaf5f3727eb0ee1e1d9dd1c4d484d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f7e021c927d01063e9ec177deec463c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a5f7e021c927d01063e9ec177deec463c">_isFirstEvent</a></td></tr>
<tr class="memdesc:a5f7e021c927d01063e9ec177deec463c"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to switch to DATA/MC at the first event, the following events should be the same.  <a href="#a5f7e021c927d01063e9ec177deec463c">More...</a><br/></td></tr>
<tr class="separator:a5f7e021c927d01063e9ec177deec463c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7627ab3a3eb5245b1500a5a228bd3ccb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7627ab3a3eb5245b1500a5a228bd3ccb"></a>
MappedContainer<br class="typebreak"/>
&lt; CalorimeterHitImpl &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#a7627ab3a3eb5245b1500a5a228bd3ccb">_HitContainer</a></td></tr>
<tr class="memdesc:a7627ab3a3eb5245b1500a5a228bd3ccb"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapped container of AHCAL cells <br/></td></tr>
<tr class="separator:a7627ab3a3eb5245b1500a5a228bd3ccb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa91b9bbcb6a6a3be99515647e895e611"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa91b9bbcb6a6a3be99515647e895e611"></a>
std::map&lt; int, std::pair&lt; int, <br class="typebreak"/>
int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2TimeCalibrator.html#aa91b9bbcb6a6a3be99515647e895e611">_HardwareConnnectionContainer</a></td></tr>
<tr class="memdesc:aa91b9bbcb6a6a3be99515647e895e611"><td class="mdescLeft">&#160;</td><td class="mdescRight">map containing relationship between ChipID and Module/ChipNb <br/></td></tr>
<tr class="separator:aa91b9bbcb6a6a3be99515647e895e611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2441a8d16fa6b8f36d6ffbbe2bccfe85"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2441a8d16fa6b8f36d6ffbbe2bccfe85"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_iEvt</b> = 0</td></tr>
<tr class="separator:a2441a8d16fa6b8f36d6ffbbe2bccfe85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processor that does the SiPM calibration. </p>
<p>The calibration is done according to the formula: <img class="formulaInl" alt="$E_{calibrated}=f_{saturation}((E_{raw}-pedestal) \cdot IC/gain) \cdot gain/IC/MIP$" src="form_0.png"/></p>
<p>Please note:</p>
<ul>
<li>this processor does the calibration for both data and Monte Carlo, based on the type of the input collection ("LCGenericObject" for data, and "CalorimeterHit" for Monte Carlo);</li>
<li>for noise creation, the saturation correction is disabled (doSaturationCorrection=false), as well as the ZeroSuppression (ZeroSuppression = false)</li>
<li>for Monte Carlo, the pedestal subtraction is disabled (PedestalSubtraction=false)</li>
</ul>
<dl class="section user"><dt>processor parameters</dt><dd><table class="doxtable">
<tr>
<td>steering file parameter name </td><td>description  </td></tr>
<tr>
<td><b><em> InputCollectionName </em></b></td><td>name of the input collection, with energy in ADC counts </td></tr>
<tr>
<td><b><em> OutputCollectionName </em></b></td><td>name of the output collection, with energy in MIPs </td></tr>
<tr>
<td><b><em> MappingProcessorName </em></b></td><td>name of the mapping processor that provides the necessary Mapper class </td></tr>
<tr>
<td><b><em> Ahc2CalibrationsProcessorName </em></b></td><td>name of the processor which provides the SiPM calibrations </td></tr>
<tr>
<td><b><em> SiPMTemperatureProcessorName </em></b></td><td>name of the processor which provides the SiPM temperature </td></tr>
<tr>
<td><b><em> PedestalSubtraction </em></b></td><td>Flag to enable/disable pedestal subtraction </td></tr>
<tr>
<td><b><em> ZeroSuppression </em></b></td><td>Flag to enable/disable zero suppression (intention to apply the MIP cut) </td></tr>
<tr>
<td><b><em> MipCut </em></b></td><td>Value of the MIP cut (default: 0.4 MIPs) </td></tr>
<tr>
<td><b><em> doMipConversion </em></b></td><td>Flag to enable/disable MIP Calibration </td></tr>
<tr>
<td><b><em> doMipTemperatureCorrection </em></b></td><td>Flag to enable/disable temperature correction of the MIP </td></tr>
<tr>
<td><b><em> doGainTemperatureCorrection </em></b></td><td>Flag to enable/disable temperature correction of the gain </td></tr>
<tr>
<td><b><em> doSaturationCorrection </em></b></td><td>Flag to enable/disable the saturation correction </td></tr>
<tr>
<td><b><em> doTimeConversion </em></b></td><td>Flag to enable/disable the TDC Calibration </td></tr>
<tr>
<td><b><em> doErrorCalculation </em></b></td><td>Flag to enable/disable error calculation </td></tr>
<tr>
<td><b><em> filterDeadCells </em></b></td><td>Flag to enable/disable the filtering of dead cells </td></tr>
<tr>
<td><b><em> filterDefaultCells </em></b></td><td>Flag to enable/disable the filtering of default dead cells </td></tr>
</table>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'cgr'+'af'+'@mp'+'p.'+'mpg'+'.d'+'e'; return false;">cgraf<span style="display: none;">.nosp@m.</span>@mpp<span style="display: none;">.nosp@m.</span>.mpg.<span style="display: none;">.nosp@m.</span>de</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>January 2018 </dd></dl>

<p>Definition at line <a class="el" href="Ahc2TimeCalibrator_8hh_source.html#l00063">63</a> of file <a class="el" href="Ahc2TimeCalibrator_8hh_source.html">Ahc2TimeCalibrator.hh</a>.</p>
</div><h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a5f7e021c927d01063e9ec177deec463c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CALICE::Ahc2TimeCalibrator::_isFirstEvent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>flag to switch to DATA/MC at the first event, the following events should be the same. </p>

<p>Definition at line <a class="el" href="Ahc2TimeCalibrator_8hh_source.html#l00182">182</a> of file <a class="el" href="Ahc2TimeCalibrator_8hh_source.html">Ahc2TimeCalibrator.hh</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Ahc2TimeCalibrator_8hh_source.html">Ahc2TimeCalibrator.hh</a></li>
<li><a class="el" href="Ahc2TimeCalibrator_8cc_source.html">Ahc2TimeCalibrator.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
