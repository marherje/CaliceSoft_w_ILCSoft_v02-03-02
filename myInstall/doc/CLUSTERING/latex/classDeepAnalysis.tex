\section{Deep\-Analysis Class Reference}
\label{classDeepAnalysis}\index{Deep\-Analysis@{Deep\-Analysis}}


\doxyref{Cluster}{p.}{classDeepAnalysis_1_1Cluster} finding and analysis.  




{\ttfamily \#include $<$Deep\-Analysis.\-hh$>$}

Inheritance diagram for Deep\-Analysis\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classDeepAnalysis}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
class {\bf Cluster}
\begin{DoxyCompactList}\small\item\em \doxyref{Cluster}{p.}{classDeepAnalysis_1_1Cluster} is the main object to work with and to keep the main results of the analisys \doxyref{Cluster}{p.}{classDeepAnalysis_1_1Cluster} consists of its properties\-: like parameters of the inertia tensor, average density, whole volume, a few topological Chisq and pointers to first and last hits in cluster. \end{DoxyCompactList}\item 
class {\bf Detector}
\begin{DoxyCompactList}\small\item\em Class for detector and algorithm parameters. \end{DoxyCompactList}\item 
class {\bf Group}
\begin{DoxyCompactList}\small\item\em Class for general multipurpose grouping. \end{DoxyCompactList}\item 
class {\bf Hit}
\begin{DoxyCompactList}\small\item\em Class for hit\-: consists of\-: \end{DoxyCompactList}\item 
class {\bf Hit\-Group}
\begin{DoxyCompactList}\small\item\em This class is not a cluster, but this is as it said in name -- \doxyref{Group}{p.}{classDeepAnalysis_1_1Group} of Hits, that has a boundaries in 3-\/\-D cartesian coordinate system and spherical coordinate system, center of gravity and whole energy. \end{DoxyCompactList}\item 
class {\bf Join\-Group}
\begin{DoxyCompactList}\small\item\em Class for joining groups (juts a working intermediate class) (for \doxyref{cluster\-\_\-join}{p.}{classDeepAnalysis_a11f0ad635e5acf4b82c36170b9db6293} method) \end{DoxyCompactList}\item 
class {\bf Kind\-Group}
\begin{DoxyCompactList}\small\item\em This class has a represents of R\-G\-B types of Groups. \end{DoxyCompactList}\item 
class {\bf Neut\-Group}
\begin{DoxyCompactList}\small\item\em Neutrons group (specific for technical reasons) \end{DoxyCompactList}\item 
class {\bf Special\-Hist2\-D}
\begin{DoxyCompactList}\small\item\em Special 2\-D histograms. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum {\bf K\-I\-N\-D} \{ \\*
{\bf E\-M} =0, 
{\bf T\-R\-K}, 
{\bf H\-A\-D}, 
{\bf K\-I\-N\-D\-\_\-\-C\-O\-U\-N\-T}, 
\\*
{\bf N\-E\-U\-T\-R}
 \}
\begin{DoxyCompactList}\small\item\em An enumeration -- colors for R\-G\-B scheme for hit spectrum R\-E\-D is most dense hit(calorimeter cell) B\-L\-U\-E is intermediate G\-R\-E\-E\-N is M\-I\-P-\/like, or around the M\-I\-P density. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bf Deep\-Analysis} ()\label{classDeepAnalysis_a922be045364409dca5f7fdc517dceea7}

\begin{DoxyCompactList}\small\item\em Constructor. \end{DoxyCompactList}\item 
void {\bf cluster\-\_\-from\-\_\-singles} ({\bf Kind\-Group} \&gr, bool mark\-\_\-neutrons)\label{classDeepAnalysis_a3272cc7e90359df6241e0ef5d3493d09}

\begin{DoxyCompactList}\small\item\em Create clusters from single hits. \end{DoxyCompactList}\item 
void {\bf cluster\-\_\-finder\-\_\-2d\-\_\-split} ({\bf Hit} \&hit, unsigned In\-Clust\-\_\-count, {\bf Cluster} $\ast$$\ast$In\-Clust)\label{classDeepAnalysis_a51aa039e800972d2eb4bb9dce5a99783}

\begin{DoxyCompactList}\small\item\em Distribute hits at the spherical shell onto found 2\-D cluster seeds. \end{DoxyCompactList}\item 
void {\bf cluster\-\_\-finder\-\_\-2d} ({\bf Hit\-Group} \&hit\-Group, {\bf Group} \&ring)\label{classDeepAnalysis_abf4d67264d95678b7fd012d1e053c551}

\begin{DoxyCompactList}\small\item\em 2\-D clustering procedure to find clusters by histogramming technique at the one spherical shell in Theta-\/\-Phi. \end{DoxyCompactList}\item 
void {\bf cluster\-\_\-finder\-\_\-3d} ({\bf Kind\-Group} \&gr, bool mark\-\_\-neutrons)
\begin{DoxyCompactList}\small\item\em Find 3\-D clusters. \end{DoxyCompactList}\item 
void {\bf join\-\_\-group} ({\bf Cluster} $\ast$cl, {\bf Join\-Group} $\ast$jg)\label{classDeepAnalysis_ac71417b351b1863345d8dc5fe03e1107}

\begin{DoxyCompactList}\small\item\em Technical function used in cluster\-\_\-join. \end{DoxyCompactList}\item 
void {\bf make\-\_\-join\-\_\-group} ({\bf Cluster} $\ast$cl0, {\bf Cluster} $\ast$cl1, {\bf Cluster} $\ast$cl2=0)\label{classDeepAnalysis_a86fa610ab5bc688a31ac2637df3e17b8}

\begin{DoxyCompactList}\small\item\em Technical function used in cluster\-\_\-join. \end{DoxyCompactList}\item 
void {\bf cluster\-\_\-join} (bool for\-\_\-em)\label{classDeepAnalysis_a11f0ad635e5acf4b82c36170b9db6293}

\begin{DoxyCompactList}\small\item\em Join clusters together. \end{DoxyCompactList}\item 
void {\bf em\-\_\-shower\-\_\-find} ()\label{classDeepAnalysis_a430c22c153af3cc4213d8f4278000c3a}

\begin{DoxyCompactList}\small\item\em Find electromagnetic shower\-: it collects additional (not R\-E\-D) hits around the E\-M cluster core. \end{DoxyCompactList}\item 
void {\bf reassignment\-\_\-small\-\_\-clusters} ({\bf K\-I\-N\-D} k)\label{classDeepAnalysis_a6248d82766ae25095c0c02b8ba6d2814}

\begin{DoxyCompactList}\small\item\em Reassign small clusters. \end{DoxyCompactList}\item 
void {\bf low\-\_\-e\-\_\-clean} ()\label{classDeepAnalysis_a3c0d64094110d97819ea2910d9ae5c8e}

\begin{DoxyCompactList}\small\item\em Clean low energy clusters. \end{DoxyCompactList}\item 
{\bf Hit} $\ast$ {\bf add\-\_\-hit} (double \-\_\-x, double \-\_\-y, double \-\_\-z, double \-\_\-am, double \-\_\-ampl\-\_\-mip, double \-\_\-thr, unsigned \-\_\-lay, {\bf K\-I\-N\-D} type, int \-\_\-addr)\label{classDeepAnalysis_ace5c5cc371d13a3a3e4c4bb7c1e6c7a4}

\begin{DoxyCompactList}\small\item\em Create \doxyref{Hit}{p.}{classDeepAnalysis_1_1Hit} object. \end{DoxyCompactList}\item 
void {\bf draw} ()\label{classDeepAnalysis_a3296261a9ec689302d1d0105f0b70a6b}

\begin{DoxyCompactList}\small\item\em Draw ?? \end{DoxyCompactList}\item 
void {\bf draw\-\_\-to\-\_\-layer} (unsigned layer)\label{classDeepAnalysis_af86fccd30742311ff86392d997e6ad36}

\begin{DoxyCompactList}\small\item\em Draw ?? \end{DoxyCompactList}\item 
void {\bf color\-\_\-clusters\-\_\-stat} ({\bf K\-I\-N\-D} k, unsigned \&ncl, unsigned \&n\-\_\-sum, double \&e\-\_\-sum)
\begin{DoxyCompactList}\small\item\em Calculate cluster statistics. \end{DoxyCompactList}\item 
void {\bf color\-\_\-clusters\-\_\-print\-\_\-stat} ({\bf K\-I\-N\-D} k)
\begin{DoxyCompactList}\small\item\em Print clusters statistics. \end{DoxyCompactList}\item 
void {\bf result\-\_\-check} ()\label{classDeepAnalysis_a580d9000ca7ac7a8144ade2abf20f721}

\begin{DoxyCompactList}\small\item\em Check result. \end{DoxyCompactList}\item 
void {\bf event\-\_\-move} ()\label{classDeepAnalysis_adf15194da18059e69c5bd736bc33b308}

\begin{DoxyCompactList}\small\item\em Move event from a pole to equator of spherical coordinate system. \end{DoxyCompactList}\item 
void {\bf event\-\_\-move\-\_\-back} ()\label{classDeepAnalysis_ac7963f23fe529d8e0074df287ce961f8}

\begin{DoxyCompactList}\small\item\em Move back event to the pole of Sp\-\_\-\-C\-S. \end{DoxyCompactList}\item 
void {\bf reconstruction} ()
\begin{DoxyCompactList}\small\item\em Main routine to split event into four different types of clusters\-: E\-M -\/ electromagnetic piece of hadronic shower T\-R\-K -\/ tracks in hadronic shower H\-A\-D -\/ a few tracks in hadronic shower that cannot be splitted into individual tracks. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Data Fields}
\begin{DoxyCompactItemize}
\item 
{\bf Detector} {\bfseries detector}\label{classDeepAnalysis_ae8df2c2ff1e0c18d7a10f54ba1ce2f2b}

\item 
{\bf Hit\-Group} $\ast$ {\bf all\-\_\-hits}
\begin{DoxyCompactList}\small\item\em All main pointer to structures. \end{DoxyCompactList}\item 
{\bf Group} $\ast$ {\bf clusters}\label{classDeepAnalysis_a2ebb35e99adf044cf85cc88fa8d3fa0d}

\begin{DoxyCompactList}\small\item\em clusters \end{DoxyCompactList}\item 
{\bf Group} $\ast$ {\bf joingroups}\label{classDeepAnalysis_a3d81237d4f1f894876149f096059217b}

\begin{DoxyCompactList}\small\item\em joined groups \end{DoxyCompactList}\item 
{\bf Kind\-Group} $\ast$ {\bf kind} [{\bf K\-I\-N\-D\-\_\-\-C\-O\-U\-N\-T}]\label{classDeepAnalysis_a63269ac67462b5e1a5891a6fcc36e831}

\begin{DoxyCompactList}\small\item\em hit type \end{DoxyCompactList}\item 
{\bf Neut\-Group} $\ast$ {\bf neutrons}\label{classDeepAnalysis_a0bccfdab6b95f7d359995a82da828ebd}

\begin{DoxyCompactList}\small\item\em neutrons group \end{DoxyCompactList}\item 
unsigned {\bf all\-\_\-hits\-\_\-count}\label{classDeepAnalysis_afa56405784e372bdf9c7f11fc59f1bf9}

\begin{DoxyCompactList}\small\item\em counter for all hits \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
\doxyref{Cluster}{p.}{classDeepAnalysis_1_1Cluster} finding and analysis. 

Hadronic shower analysis using hit density, shower topology and cluster shapes to find shower component of different physical origin, such as pure tracks, electromagnetic cascades inside hadronic shower; and hits that produced by neutrons.

\begin{DoxyAuthor}{Author}
V.\-L. Morgunov 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
18 September 2007 
\end{DoxyDate}


Definition at line 52 of file Deep\-Analysis.\-hh.



\subsection{Member Enumeration Documentation}
\index{Deep\-Analysis@{Deep\-Analysis}!K\-I\-N\-D@{K\-I\-N\-D}}
\index{K\-I\-N\-D@{K\-I\-N\-D}!DeepAnalysis@{Deep\-Analysis}}
\subsubsection[{K\-I\-N\-D}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf Deep\-Analysis\-::\-K\-I\-N\-D}}\label{classDeepAnalysis_a8e37d65f57d59e268a839b039848815c}


An enumeration -- colors for R\-G\-B scheme for hit spectrum R\-E\-D is most dense hit(calorimeter cell) B\-L\-U\-E is intermediate G\-R\-E\-E\-N is M\-I\-P-\/like, or around the M\-I\-P density. 

\begin{Desc}
\item[Enumerator]\par
\begin{description}
\index{E\-M@{E\-M}!Deep\-Analysis@{Deep\-Analysis}}\index{Deep\-Analysis@{Deep\-Analysis}!E\-M@{E\-M}}\item[{\em 
E\-M\label{classDeepAnalysis_a8e37d65f57d59e268a839b039848815ca3993fe069642f9ef25af6471a711ba7a}
}]former 2 color red \index{T\-R\-K@{T\-R\-K}!Deep\-Analysis@{Deep\-Analysis}}\index{Deep\-Analysis@{Deep\-Analysis}!T\-R\-K@{T\-R\-K}}\item[{\em 
T\-R\-K\label{classDeepAnalysis_a8e37d65f57d59e268a839b039848815ca15b5219f26836651924a14051eeacee6}
}]former 3 color green \index{H\-A\-D@{H\-A\-D}!Deep\-Analysis@{Deep\-Analysis}}\index{Deep\-Analysis@{Deep\-Analysis}!H\-A\-D@{H\-A\-D}}\item[{\em 
H\-A\-D\label{classDeepAnalysis_a8e37d65f57d59e268a839b039848815ca9f39fc8015a438a8f8140a4519d46810}
}]former 4 color blue \index{K\-I\-N\-D\-\_\-\-C\-O\-U\-N\-T@{K\-I\-N\-D\-\_\-\-C\-O\-U\-N\-T}!Deep\-Analysis@{Deep\-Analysis}}\index{Deep\-Analysis@{Deep\-Analysis}!K\-I\-N\-D\-\_\-\-C\-O\-U\-N\-T@{K\-I\-N\-D\-\_\-\-C\-O\-U\-N\-T}}\item[{\em 
K\-I\-N\-D\-\_\-\-C\-O\-U\-N\-T\label{classDeepAnalysis_a8e37d65f57d59e268a839b039848815ca0edf8eebee148f30a1dac100dcb70d96}
}]counter for kinds (types) \index{N\-E\-U\-T\-R@{N\-E\-U\-T\-R}!Deep\-Analysis@{Deep\-Analysis}}\index{Deep\-Analysis@{Deep\-Analysis}!N\-E\-U\-T\-R@{N\-E\-U\-T\-R}}\item[{\em 
N\-E\-U\-T\-R\label{classDeepAnalysis_a8e37d65f57d59e268a839b039848815ca460d128073038dbfb0e1d21a1cca3e61}
}]after count, since it is not \doxyref{Kind\-Group}{p.}{classDeepAnalysis_1_1KindGroup}. \end{description}
\end{Desc}


Definition at line 159 of file Deep\-Analysis.\-hh.



\subsection{Member Function Documentation}
\index{Deep\-Analysis@{Deep\-Analysis}!cluster\-\_\-finder\-\_\-3d@{cluster\-\_\-finder\-\_\-3d}}
\index{cluster\-\_\-finder\-\_\-3d@{cluster\-\_\-finder\-\_\-3d}!DeepAnalysis@{Deep\-Analysis}}
\subsubsection[{cluster\-\_\-finder\-\_\-3d}]{\setlength{\rightskip}{0pt plus 5cm}void Deep\-Analysis\-::cluster\-\_\-finder\-\_\-3d (
\begin{DoxyParamCaption}
\item[{{\bf Kind\-Group} \&}]{gr, }
\item[{bool}]{mark\-\_\-neutrons}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classDeepAnalysis_a0f5264f0bbbab0caf1069c8faafc3d25}


Find 3\-D clusters. 

Method is\-: to create spherilal shells in the event volume, make 2\-D clustering at each shell, then connect near by 2\-D clusters into 3\-D trees. !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 

Definition at line 1003 of file Deep\-Analysis.\-hh.



References Deep\-Analysis\-::\-Cluster\-::calc\-\_\-prop(), Deep\-Analysis\-::\-Hit\-Group\-::calc\-\_\-stat(), Deep\-Analysis\-::\-Hit\-Group\-::center\-Of\-Gravity, Deep\-Analysis\-::\-Cluster\-::\-C\-H\-A\-I\-N, cluster\-\_\-finder\-\_\-2d(), cluster\-\_\-from\-\_\-singles(), clusters, Deep\-Analysis\-::\-Cluster\-::\-E\-M\-P\-T\-Y, Deep\-Analysis\-::\-Detector\-::ext\-\_\-cell\-\_\-size, Deep\-Analysis\-::\-Detector\-::join\-\_\-factor, Deep\-Analysis\-::\-Hit\-Group\-::layer\-\_\-g, Range$<$ \-\_\-\-T $>$\-::max, Range$<$ \-\_\-\-T $>$\-::min, Deep\-Analysis\-::\-Cluster\-::\-O\-N\-E\-H\-I\-T, Deep\-Analysis\-::\-Hit\-Group\-::radius\-\_\-g, Deep\-Analysis\-::\-Detector\-::sampling, Deep\-Analysis\-::\-Hit\-::sphere3d, and Deep\-Analysis\-::\-Cluster\-::type.



Referenced by reconstruction().

\index{Deep\-Analysis@{Deep\-Analysis}!color\-\_\-clusters\-\_\-print\-\_\-stat@{color\-\_\-clusters\-\_\-print\-\_\-stat}}
\index{color\-\_\-clusters\-\_\-print\-\_\-stat@{color\-\_\-clusters\-\_\-print\-\_\-stat}!DeepAnalysis@{Deep\-Analysis}}
\subsubsection[{color\-\_\-clusters\-\_\-print\-\_\-stat}]{\setlength{\rightskip}{0pt plus 5cm}void Deep\-Analysis\-::color\-\_\-clusters\-\_\-print\-\_\-stat (
\begin{DoxyParamCaption}
\item[{{\bf K\-I\-N\-D}}]{k}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classDeepAnalysis_afdc891004ebb437b7058ed0cc9068164}


Print clusters statistics. 


\begin{DoxyParams}{Parameters}
{\em k} & kind of cluster \\
\hline
\end{DoxyParams}


Definition at line 1514 of file Deep\-Analysis.\-hh.



References color\-\_\-clusters\-\_\-stat().

\index{Deep\-Analysis@{Deep\-Analysis}!color\-\_\-clusters\-\_\-stat@{color\-\_\-clusters\-\_\-stat}}
\index{color\-\_\-clusters\-\_\-stat@{color\-\_\-clusters\-\_\-stat}!DeepAnalysis@{Deep\-Analysis}}
\subsubsection[{color\-\_\-clusters\-\_\-stat}]{\setlength{\rightskip}{0pt plus 5cm}void Deep\-Analysis\-::color\-\_\-clusters\-\_\-stat (
\begin{DoxyParamCaption}
\item[{{\bf K\-I\-N\-D}}]{k, }
\item[{unsigned \&}]{ncl, }
\item[{unsigned \&}]{n\-\_\-sum, }
\item[{double \&}]{e\-\_\-sum}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classDeepAnalysis_a6c35bfd21af8c49247ac819935b744a5}


Calculate cluster statistics. 


\begin{DoxyParams}{Parameters}
{\em k} & type of cluster \\
\hline
{\em ncl} & number of clusters \\
\hline
{\em n\-\_\-sum} & total number of hits \\
\hline
{\em e\-\_\-sum} & total energy sum \\
\hline
\end{DoxyParams}


Definition at line 1499 of file Deep\-Analysis.\-hh.



References clusters.



Referenced by color\-\_\-clusters\-\_\-print\-\_\-stat(), and C\-A\-L\-I\-C\-E\-::\-Deep\-Analysis\-Processor\-::process\-Event().

\index{Deep\-Analysis@{Deep\-Analysis}!reconstruction@{reconstruction}}
\index{reconstruction@{reconstruction}!DeepAnalysis@{Deep\-Analysis}}
\subsubsection[{reconstruction}]{\setlength{\rightskip}{0pt plus 5cm}void Deep\-Analysis\-::reconstruction (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\label{classDeepAnalysis_a44b9f2a02510918b2c5909045a8beb19}


Main routine to split event into four different types of clusters\-: E\-M -\/ electromagnetic piece of hadronic shower T\-R\-K -\/ tracks in hadronic shower H\-A\-D -\/ a few tracks in hadronic shower that cannot be splitted into individual tracks. 

N\-E\-U\-T -\/ neutron component of hadronic shower 

Definition at line 1599 of file Deep\-Analysis.\-hh.



References all\-\_\-hits, Deep\-Analysis\-::\-Hit\-Group\-::calc\-\_\-stat(), cluster\-\_\-finder\-\_\-3d(), cluster\-\_\-join(), clusters, E\-M, em\-\_\-shower\-\_\-find(), event\-\_\-move(), event\-\_\-move\-\_\-back(), H\-A\-D, Deep\-Analysis\-::\-Detector\-::init(), kind, Range$<$ \-\_\-\-T $>$\-::min, Deep\-Analysis\-::\-Hit\-Group\-::radius\-\_\-g, reassignment\-\_\-small\-\_\-clusters(), and T\-R\-K.



Referenced by C\-A\-L\-I\-C\-E\-::\-Deep\-Analysis\-Processor\-::process\-Event().



\subsection{Field Documentation}
\index{Deep\-Analysis@{Deep\-Analysis}!all\-\_\-hits@{all\-\_\-hits}}
\index{all\-\_\-hits@{all\-\_\-hits}!DeepAnalysis@{Deep\-Analysis}}
\subsubsection[{all\-\_\-hits}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Hit\-Group}$\ast$ Deep\-Analysis\-::all\-\_\-hits}\label{classDeepAnalysis_a1cc6f5295b6a6ea5f74abc9d7b2f4236}


All main pointer to structures. 

hit group 

Definition at line 772 of file Deep\-Analysis.\-hh.



Referenced by add\-\_\-hit(), Deep\-Analysis(), em\-\_\-shower\-\_\-find(), event\-\_\-move(), event\-\_\-move\-\_\-back(), reconstruction(), and result\-\_\-check().



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
Deep\-Analysis.\-hh\end{DoxyCompactItemize}
