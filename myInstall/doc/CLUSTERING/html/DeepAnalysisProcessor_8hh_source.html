<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CLUSTERING: DeepAnalysisProcessor.hh Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CLUSTERING
   &#160;<span id="projectnumber">1.0.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_aa5152576b83acadfecf1e9f3e210c0e.html">calice_reco</a></li><li class="navelem"><a class="el" href="dir_0bc40fff4ea0ef159046e8089ecb2d1a.html">clustering</a></li><li class="navelem"><a class="el" href="dir_dc46692996f7b415dd8d5db6a17f2354.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">DeepAnalysisProcessor.hh</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef DeepAnalysisProcessor_h </span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define DeepAnalysisProcessor_h 1</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#ifdef HAVE_CONFIG_H</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#  include &lt;config.h&gt;</span> </div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor"></span> </div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;lcio.h&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;EVENT/LCObject.h&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;EVENT/LCCollection.h&gt;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;EVENT/LCEvent.h&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;EVENT/LCFloatVec.h&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;IMPL/CalorimeterHitImpl.h&gt;</span><span class="comment">//contains lcio:CalorimeterHit</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;marlin/Processor.h&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;marlin/Exceptions.h&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;DeepAnalysis.hh&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;MappingAndAlignment.hh&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;ConditionsChangeDelegator.hh&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;MultipleConditionsChangeDelegator.hh&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment">//#include &lt;VRawADCValueProcessor.hh&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">namespace </span>CALICE { </div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keyword">typedef</span> <span class="keyword">enum</span> {CLUSTER_EM=10, CLUSTER_TRK, CLUSTER_HAD, CLUSTER_NEUTR} ClusterTypes;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html">   41</a></span>&#160;  <span class="keyword">class </span><a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html">DeepAnalysisProcessor</a> : <span class="keyword">public</span> marlin::Processor {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keyword">public</span>: </div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    </div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a8c48cc1b602f4ecb5bdd253ffc796f14">   46</a></span>&#160;      <span class="keyword">virtual</span> Processor* <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a8c48cc1b602f4ecb5bdd253ffc796f14">newProcessor</a>() { <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#af0f7402850bf0d1c75294e285756efe0">DeepAnalysisProcessor</a>; }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#af0f7402850bf0d1c75294e285756efe0">DeepAnalysisProcessor</a>();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a11f1a2deda4534e902e57dd599f23f61">init</a>();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    </div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#aa95f1ffefdea07fd542085667f469588">processRunHeader</a>(LCRunHeader* run);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;      </div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a8bb1c75b7e2cd2cd78a06f3e2844c7f5">processEvent</a>(LCEvent* evt);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    </div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a7195518a4115255e9d91e10b1f7ee224">GeVperMip</a>(<span class="keywordtype">unsigned</span> detectorIndex, <span class="keywordtype">unsigned</span> layerIndex);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#aa2e6f47b82d17cee7226faa2e427214e">PopulatedLayerIndex</a>(<span class="keywordtype">unsigned</span> detectorIndex, <span class="keywordtype">unsigned</span> layerIndex);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a6cced09085aae251c4864a6af6520ab0">check</a>(LCEvent* evt);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;      std::vector&lt;float&gt; <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a82046cb494d223d964fbac5aba9295f3">GetRotatedPositionIfRquested</a>(<span class="keywordtype">bool</span> switchRotation, CalorimeterHit *a_hit);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    </div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#afea0f203cb78214cfb45a36d6693ca4a">end</a>();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    <span class="keyword">protected</span>:</div>
<div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#abced7b7536bce66e026bf27acb7f02a3">  102</a></span>&#160;      lcio::FloatVec <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#abced7b7536bce66e026bf27acb7f02a3">_thresholds</a>;</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#ac7000e5b7e29c0d18a43a3860cbcab06">  103</a></span>&#160;      lcio::StringVec <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#ac7000e5b7e29c0d18a43a3860cbcab06">_inputCollectionNames</a>; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#abf2ff400523e0d0d643232ba24b274df">  105</a></span>&#160;      std::string <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#abf2ff400523e0d0d643232ba24b274df">_outputCollectionName</a>;  </div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a65f26be8425efe29b7d90211c7b631c8">  106</a></span>&#160;      std::string <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a65f26be8425efe29b7d90211c7b631c8">_outputNeutrCollectionName</a>;  </div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#ae66c855547e22a6915532a79fd44f86a">  107</a></span>&#160;      lcio::StringVec <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#ae66c855547e22a6915532a79fd44f86a">_colNamesModuleDescription</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a7968c4389c0d106e7d9779c42ba95c2e">  109</a></span>&#160;      lcio::StringVec <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a7968c4389c0d106e7d9779c42ba95c2e">_colNamesModuleLocation</a>; </div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a765b1b5e6845a77acfd690b482a7d3de">  111</a></span>&#160;      lcio::StringVec <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a765b1b5e6845a77acfd690b482a7d3de">_colNamesModuleConnection</a>;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a6edf54b93f74b7488426301b1f5d71b0">  114</a></span>&#160;      std::vector&lt;MultipleConditionsChangeDelegator&lt;DeepAnalysisProcessor&gt; &gt; <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a6edf54b93f74b7488426301b1f5d71b0">_moduleTypeChange</a>;</div>
<div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a95b27435a9ac32c1f1410a87de569383">  117</a></span>&#160;      std::vector&lt;MultipleConditionsChangeDelegator&lt;DeepAnalysisProcessor&gt; &gt; <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a95b27435a9ac32c1f1410a87de569383">_moduleLocationChange</a>; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a214ca8e9c5941d2b760e94d18e5cfec2">  120</a></span>&#160;      std::vector&lt;MultipleConditionsChangeDelegator&lt;DeepAnalysisProcessor&gt; &gt; <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a214ca8e9c5941d2b760e94d18e5cfec2">_moduleConnectionChange</a>; </div>
<div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a8eb73fb7bc4baec3832dfe7f51c3ae7c">  124</a></span>&#160;      std::vector&lt;MappingAndAlignment&gt; <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a8eb73fb7bc4baec3832dfe7f51c3ae7c">_mapping</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a6f07cd4ccd368734695eecc8692c2e3f">  127</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a6f07cd4ccd368734695eecc8692c2e3f">_viewConnectionTree</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a16a1b8281abc3829debe0bb943c046c2">  130</a></span>&#160;      std::vector&lt;std::vector&lt;float&gt; &gt; <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a16a1b8281abc3829debe0bb943c046c2">_gevPerMip</a>;</div>
<div class="line"><a name="l00133"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#aa8c5ca35a74569b33c641242eb559cc5">  133</a></span>&#160;      std::vector&lt;std::vector&lt;int&gt; &gt; <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#aa8c5ca35a74569b33c641242eb559cc5">_populatedLayerIndex</a>;</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a386ae896d3e81b1e8e5335bdd99ef639">  135</a></span>&#160;      lcio::FloatVec <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a386ae896d3e81b1e8e5335bdd99ef639">_samplingFractionA</a>;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#ae663c30fc08de31bedc6792110247b15">  136</a></span>&#160;      lcio::FloatVec <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#ae663c30fc08de31bedc6792110247b15">_samplingFractionB</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a8f722ccb18f82134e2197547eee6244c">  137</a></span>&#160;      <span class="keywordtype">double</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a8f722ccb18f82134e2197547eee6244c">_samplingFactor</a>;</div>
<div class="line"><a name="l00140"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a763658ffcef0344381719245edf455ae">  140</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a763658ffcef0344381719245edf455ae">_switchRotation</a>; </div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a5e24ceb1ccb0fd90f0f70b272477030f">  141</a></span>&#160;      <span class="keywordtype">double</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a5e24ceb1ccb0fd90f0f70b272477030f">_mipThreshold</a>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordtype">bool</span> _fIsMC;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#aa4f944063dd8cd11af71b356a999a617">updateCorrelations</a>();</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a1e6a910a439fc62c183039ab50ef2eca">  156</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a1e6a910a439fc62c183039ab50ef2eca">moduleTypeChanged</a>(lcio::LCCollection* col, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> detectorIndex) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a8eb73fb7bc4baec3832dfe7f51c3ae7c">_mapping</a>[detectorIndex].moduleTypeChanged(col);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#aa4f944063dd8cd11af71b356a999a617">updateCorrelations</a>();</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;      };</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#acaf0d0c6883f4783b398712d4c17bea2">  167</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#acaf0d0c6883f4783b398712d4c17bea2">moduleLocationChanged</a>(lcio::LCCollection* col, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> detectorIndex) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a8eb73fb7bc4baec3832dfe7f51c3ae7c">_mapping</a>[detectorIndex].moduleLocationChanged(col);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#aa4f944063dd8cd11af71b356a999a617">updateCorrelations</a>();</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      };</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classCALICE_1_1DeepAnalysisProcessor.html#a4ff699042d1bd0f80c4057a87015b4c4">  179</a></span>&#160;      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a4ff699042d1bd0f80c4057a87015b4c4">moduleConnectionChanged</a>(lcio::LCCollection* col, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> detectorIndex) {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#a8eb73fb7bc4baec3832dfe7f51c3ae7c">_mapping</a>[detectorIndex].moduleConnectionChanged(col);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        <a class="code" href="classCALICE_1_1DeepAnalysisProcessor.html#aa4f944063dd8cd11af71b356a999a617">updateCorrelations</a>();</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      };</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  };</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;}</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a7195518a4115255e9d91e10b1f7ee224"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a7195518a4115255e9d91e10b1f7ee224">CALICE::DeepAnalysisProcessor::GeVperMip</a></div><div class="ttdeci">virtual double GeVperMip(unsigned detectorIndex, unsigned layerIndex)</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00490">DeepAnalysisProcessor.cc:490</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a5e24ceb1ccb0fd90f0f70b272477030f"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a5e24ceb1ccb0fd90f0f70b272477030f">CALICE::DeepAnalysisProcessor::_mipThreshold</a></div><div class="ttdeci">double _mipThreshold</div><div class="ttdoc">Minimal energy deposition in units of MIPs to keep the hit (default 0.5) </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00141">DeepAnalysisProcessor.hh:141</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_abf2ff400523e0d0d643232ba24b274df"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#abf2ff400523e0d0d643232ba24b274df">CALICE::DeepAnalysisProcessor::_outputCollectionName</a></div><div class="ttdeci">std::string _outputCollectionName</div><div class="ttdoc">Name of output collection (default: AhcClusters) </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00105">DeepAnalysisProcessor.hh:105</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a1e6a910a439fc62c183039ab50ef2eca"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a1e6a910a439fc62c183039ab50ef2eca">CALICE::DeepAnalysisProcessor::moduleTypeChanged</a></div><div class="ttdeci">virtual void moduleTypeChanged(lcio::LCCollection *col, unsigned int detectorIndex)</div><div class="ttdoc">Listen to changes of the module type (needed to correctly map the DAQ signals to cells and to calcula...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00156">DeepAnalysisProcessor.hh:156</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a6cced09085aae251c4864a6af6520ab0"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a6cced09085aae251c4864a6af6520ab0">CALICE::DeepAnalysisProcessor::check</a></div><div class="ttdeci">virtual void check(LCEvent *evt)</div><div class="ttdoc">Called for every event - right after processEvent() has been called for all processors. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00574">DeepAnalysisProcessor.cc:574</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_ae663c30fc08de31bedc6792110247b15"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#ae663c30fc08de31bedc6792110247b15">CALICE::DeepAnalysisProcessor::_samplingFractionB</a></div><div class="ttdeci">lcio::FloatVec _samplingFractionB</div><div class="ttdoc">Second part of parametrisation of the sampling fraction. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00136">DeepAnalysisProcessor.hh:136</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_ae66c855547e22a6915532a79fd44f86a"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#ae66c855547e22a6915532a79fd44f86a">CALICE::DeepAnalysisProcessor::_colNamesModuleDescription</a></div><div class="ttdeci">lcio::StringVec _colNamesModuleDescription</div><div class="ttdoc">Name of the conditions data collection containing module descriptions. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00107">DeepAnalysisProcessor.hh:107</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_acaf0d0c6883f4783b398712d4c17bea2"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#acaf0d0c6883f4783b398712d4c17bea2">CALICE::DeepAnalysisProcessor::moduleLocationChanged</a></div><div class="ttdeci">virtual void moduleLocationChanged(lcio::LCCollection *col, unsigned int detectorIndex)</div><div class="ttdoc">Listen to changes of the module location (needed to correctly map the DAQ signals to cells and to cal...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00167">DeepAnalysisProcessor.hh:167</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a214ca8e9c5941d2b760e94d18e5cfec2"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a214ca8e9c5941d2b760e94d18e5cfec2">CALICE::DeepAnalysisProcessor::_moduleConnectionChange</a></div><div class="ttdeci">std::vector&lt; MultipleConditionsChangeDelegator&lt; DeepAnalysisProcessor &gt; &gt; _moduleConnectionChange</div><div class="ttdoc">Helper to listen for module connection change (conditions data). </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00120">DeepAnalysisProcessor.hh:120</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a82046cb494d223d964fbac5aba9295f3"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a82046cb494d223d964fbac5aba9295f3">CALICE::DeepAnalysisProcessor::GetRotatedPositionIfRquested</a></div><div class="ttdeci">std::vector&lt; float &gt; GetRotatedPositionIfRquested(bool switchRotation, CalorimeterHit *a_hit)</div><div class="ttdoc">The coordinate system used in DeepAnalysis is different from the one used in Calice. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00581">DeepAnalysisProcessor.cc:581</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a7968c4389c0d106e7d9779c42ba95c2e"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a7968c4389c0d106e7d9779c42ba95c2e">CALICE::DeepAnalysisProcessor::_colNamesModuleLocation</a></div><div class="ttdeci">lcio::StringVec _colNamesModuleLocation</div><div class="ttdoc">Name of the conditions data collection containing module location. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00109">DeepAnalysisProcessor.hh:109</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a8c48cc1b602f4ecb5bdd253ffc796f14"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a8c48cc1b602f4ecb5bdd253ffc796f14">CALICE::DeepAnalysisProcessor::newProcessor</a></div><div class="ttdeci">virtual Processor * newProcessor()</div><div class="ttdoc">Return a new instance of the processor. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00046">DeepAnalysisProcessor.hh:46</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_af0f7402850bf0d1c75294e285756efe0"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#af0f7402850bf0d1c75294e285756efe0">CALICE::DeepAnalysisProcessor::DeepAnalysisProcessor</a></div><div class="ttdeci">DeepAnalysisProcessor()</div><div class="ttdoc">Default constructor. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00029">DeepAnalysisProcessor.cc:29</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a11f1a2deda4534e902e57dd599f23f61"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a11f1a2deda4534e902e57dd599f23f61">CALICE::DeepAnalysisProcessor::init</a></div><div class="ttdeci">virtual void init()</div><div class="ttdoc">Called at the begin of the job before anything is read. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00120">DeepAnalysisProcessor.cc:120</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a8eb73fb7bc4baec3832dfe7f51c3ae7c"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a8eb73fb7bc4baec3832dfe7f51c3ae7c">CALICE::DeepAnalysisProcessor::_mapping</a></div><div class="ttdeci">std::vector&lt; MappingAndAlignment &gt; _mapping</div><div class="ttdoc">Vector of MappingAndAlignment (which handles the translation into unique layer/cell ids and 3D space ...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00124">DeepAnalysisProcessor.hh:124</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_abced7b7536bce66e026bf27acb7f02a3"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#abced7b7536bce66e026bf27acb7f02a3">CALICE::DeepAnalysisProcessor::_thresholds</a></div><div class="ttdeci">lcio::FloatVec _thresholds</div><div class="ttdoc">Thresholds to be put into deep analysis algorithm. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00102">DeepAnalysisProcessor.hh:102</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a95b27435a9ac32c1f1410a87de569383"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a95b27435a9ac32c1f1410a87de569383">CALICE::DeepAnalysisProcessor::_moduleLocationChange</a></div><div class="ttdeci">std::vector&lt; MultipleConditionsChangeDelegator&lt; DeepAnalysisProcessor &gt; &gt; _moduleLocationChange</div><div class="ttdoc">Helper to listen for module location change (conditions data). </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00117">DeepAnalysisProcessor.hh:117</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a16a1b8281abc3829debe0bb943c046c2"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a16a1b8281abc3829debe0bb943c046c2">CALICE::DeepAnalysisProcessor::_gevPerMip</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; float &gt; &gt; _gevPerMip</div><div class="ttdoc">Store the conversion factors from E[MIPs] to E[GeV] (depend on the sampling fractions and on the inde...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00130">DeepAnalysisProcessor.hh:130</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a4ff699042d1bd0f80c4057a87015b4c4"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a4ff699042d1bd0f80c4057a87015b4c4">CALICE::DeepAnalysisProcessor::moduleConnectionChanged</a></div><div class="ttdeci">virtual void moduleConnectionChanged(lcio::LCCollection *col, unsigned int detectorIndex)</div><div class="ttdoc">Listen to changes of the module connection (needed to correctly map the DAQ signals to cells and to c...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00179">DeepAnalysisProcessor.hh:179</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a763658ffcef0344381719245edf455ae"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a763658ffcef0344381719245edf455ae">CALICE::DeepAnalysisProcessor::_switchRotation</a></div><div class="ttdeci">int _switchRotation</div><div class="ttdoc">Switch rotation ON/OFF. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00140">DeepAnalysisProcessor.hh:140</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_aa4f944063dd8cd11af71b356a999a617"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#aa4f944063dd8cd11af71b356a999a617">CALICE::DeepAnalysisProcessor::updateCorrelations</a></div><div class="ttdeci">virtual void updateCorrelations()</div><div class="ttdoc">Check out which layers contain hits, and fill the _gevPerMip vectors. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00508">DeepAnalysisProcessor.cc:508</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a65f26be8425efe29b7d90211c7b631c8"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a65f26be8425efe29b7d90211c7b631c8">CALICE::DeepAnalysisProcessor::_outputNeutrCollectionName</a></div><div class="ttdeci">std::string _outputNeutrCollectionName</div><div class="ttdoc">Name of neutral output collection (default: AhcNeutrClusters) </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00106">DeepAnalysisProcessor.hh:106</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_ac7000e5b7e29c0d18a43a3860cbcab06"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#ac7000e5b7e29c0d18a43a3860cbcab06">CALICE::DeepAnalysisProcessor::_inputCollectionNames</a></div><div class="ttdeci">lcio::StringVec _inputCollectionNames</div><div class="ttdoc">List of input hit collection names (default: CalorimeterHits). </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00103">DeepAnalysisProcessor.hh:103</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html">CALICE::DeepAnalysisProcessor</a></div><div class="ttdoc">Processor for the deep analysis according to the algorithm developed by Vasiliy Morgunov. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00041">DeepAnalysisProcessor.hh:41</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a8f722ccb18f82134e2197547eee6244c"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a8f722ccb18f82134e2197547eee6244c">CALICE::DeepAnalysisProcessor::_samplingFactor</a></div><div class="ttdeci">double _samplingFactor</div><div class="ttdoc">Sampling factor (in GeV) for transforming E[GeV] in E[MIPs], default MC value 875 keV...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00137">DeepAnalysisProcessor.hh:137</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a8bb1c75b7e2cd2cd78a06f3e2844c7f5"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a8bb1c75b7e2cd2cd78a06f3e2844c7f5">CALICE::DeepAnalysisProcessor::processEvent</a></div><div class="ttdeci">virtual void processEvent(LCEvent *evt)</div><div class="ttdoc">Classification of hits into clusters, according to the deep analysis algorithm, on an event by event ...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00209">DeepAnalysisProcessor.cc:209</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_afea0f203cb78214cfb45a36d6693ca4a"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#afea0f203cb78214cfb45a36d6693ca4a">CALICE::DeepAnalysisProcessor::end</a></div><div class="ttdeci">virtual void end()</div><div class="ttdoc">Called after data processing for clean up in the inverse order of the init() method so that resources...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00614">DeepAnalysisProcessor.cc:614</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_aa2e6f47b82d17cee7226faa2e427214e"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#aa2e6f47b82d17cee7226faa2e427214e">CALICE::DeepAnalysisProcessor::PopulatedLayerIndex</a></div><div class="ttdeci">virtual unsigned PopulatedLayerIndex(unsigned detectorIndex, unsigned layerIndex)</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00499">DeepAnalysisProcessor.cc:499</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a6edf54b93f74b7488426301b1f5d71b0"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a6edf54b93f74b7488426301b1f5d71b0">CALICE::DeepAnalysisProcessor::_moduleTypeChange</a></div><div class="ttdeci">std::vector&lt; MultipleConditionsChangeDelegator&lt; DeepAnalysisProcessor &gt; &gt; _moduleTypeChange</div><div class="ttdoc">Helper to listen for module type change (conditions data). </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00114">DeepAnalysisProcessor.hh:114</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_aa8c5ca35a74569b33c641242eb559cc5"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#aa8c5ca35a74569b33c641242eb559cc5">CALICE::DeepAnalysisProcessor::_populatedLayerIndex</a></div><div class="ttdeci">std::vector&lt; std::vector&lt; int &gt; &gt; _populatedLayerIndex</div><div class="ttdoc">Store the index of layers containing hits. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00133">DeepAnalysisProcessor.hh:133</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a6f07cd4ccd368734695eecc8692c2e3f"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a6f07cd4ccd368734695eecc8692c2e3f">CALICE::DeepAnalysisProcessor::_viewConnectionTree</a></div><div class="ttdeci">int _viewConnectionTree</div><div class="ttdoc">View the mapping between channels and modules whenever the module location or module connection condi...</div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00127">DeepAnalysisProcessor.hh:127</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_aa95f1ffefdea07fd542085667f469588"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#aa95f1ffefdea07fd542085667f469588">CALICE::DeepAnalysisProcessor::processRunHeader</a></div><div class="ttdeci">virtual void processRunHeader(LCRunHeader *run)</div><div class="ttdoc">Called for every run. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8cc_source.html#l00193">DeepAnalysisProcessor.cc:193</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a765b1b5e6845a77acfd690b482a7d3de"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a765b1b5e6845a77acfd690b482a7d3de">CALICE::DeepAnalysisProcessor::_colNamesModuleConnection</a></div><div class="ttdeci">lcio::StringVec _colNamesModuleConnection</div><div class="ttdoc">Name of the conditions data collection containing module connection. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00111">DeepAnalysisProcessor.hh:111</a></div></div>
<div class="ttc" id="classCALICE_1_1DeepAnalysisProcessor_html_a386ae896d3e81b1e8e5335bdd99ef639"><div class="ttname"><a href="classCALICE_1_1DeepAnalysisProcessor.html#a386ae896d3e81b1e8e5335bdd99ef639">CALICE::DeepAnalysisProcessor::_samplingFractionA</a></div><div class="ttdeci">lcio::FloatVec _samplingFractionA</div><div class="ttdoc">First part of parametrisation of the sampling fraction. </div><div class="ttdef"><b>Definition:</b> <a href="DeepAnalysisProcessor_8hh_source.html#l00135">DeepAnalysisProcessor.hh:135</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
