<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CALICEANALYSIS: FindStartAndPrimaryTrack Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CALICEANALYSIS
   &#160;<span id="projectnumber">1.3.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classFindStartAndPrimaryTrack-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">FindStartAndPrimaryTrack Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4971620a878d1eaa2130bd64a8a1f512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#a4971620a878d1eaa2130bd64a8a1f512">FindStartAndPrimaryTrack</a> (float, int, float)</td></tr>
<tr class="memdesc:a4971620a878d1eaa2130bd64a8a1f512"><td class="mdescLeft">&#160;</td><td class="mdescRight">First interaction layer and primary track finder.  <a href="#a4971620a878d1eaa2130bd64a8a1f512">More...</a><br/></td></tr>
<tr class="separator:a4971620a878d1eaa2130bd64a8a1f512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a416fdf20a245a8029eb3413f6d96662a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#a416fdf20a245a8029eb3413f6d96662a">~FindStartAndPrimaryTrack</a> ()</td></tr>
<tr class="separator:a416fdf20a245a8029eb3413f6d96662a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26cdd8d3a689e4e571c26f7db377583"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#aa26cdd8d3a689e4e571c26f7db377583">distXY</a> (float, float, float, float)</td></tr>
<tr class="separator:aa26cdd8d3a689e4e571c26f7db377583"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4609be368566e344c84866a954f90647"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#a4609be368566e344c84866a954f90647">getStartLayerMip</a> (std::vector&lt; <a class="el" href="classCLayer.html">CLayer</a> &gt;, int, int, float, int)</td></tr>
<tr class="separator:a4609be368566e344c84866a954f90647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7074e805019e8ee416008e2097cede"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#a9d7074e805019e8ee416008e2097cede">getStartLayerNei</a> (std::vector&lt; <a class="el" href="classCLayer.html">CLayer</a> &gt;, int)</td></tr>
<tr class="separator:a9d7074e805019e8ee416008e2097cede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561ebefafa0eac67786bd05f0bf07941"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#a561ebefafa0eac67786bd05f0bf07941">FindTrack</a> (int, float, float, bool, int, int, int, int, <a class="el" href="classCLayer.html">CLayer</a> *, bool)</td></tr>
<tr class="separator:a561ebefafa0eac67786bd05f0bf07941"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9d59091622b3a06bc06e5e80a531fa"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#a4c9d59091622b3a06bc06e5e80a531fa">getNumberOfNeighbors</a> (<a class="el" href="classCHit.html">CHit</a>, std::vector&lt; <a class="el" href="classCLayer.html">CLayer</a> &gt;, int *)</td></tr>
<tr class="separator:a4c9d59091622b3a06bc06e5e80a531fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a926690f5d1a44095bca860e2c0750"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classFindStartAndPrimaryTrack.html#a09a926690f5d1a44095bca860e2c0750">getMaxNeighbors</a> (<a class="el" href="classCLayer.html">CLayer</a>, int *)</td></tr>
<tr class="separator:a09a926690f5d1a44095bca860e2c0750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6a96daf75c9048d59806992b452cf48"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac6a96daf75c9048d59806992b452cf48"></a>
<a class="el" href="classPoint2D.html">Point2D</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>getTrackXY</b> ()</td></tr>
<tr class="separator:ac6a96daf75c9048d59806992b452cf48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c081a24bd15d913dd1fe1291501822b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c081a24bd15d913dd1fe1291501822b"></a>
std::vector&lt; <a class="el" href="classCHit.html">CHit</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>getFinalTrack</b> ()</td></tr>
<tr class="separator:a4c081a24bd15d913dd1fe1291501822b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77cbb39675a7c208028a99d311468cf8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a77cbb39675a7c208028a99d311468cf8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>clearTrack</b> ()</td></tr>
<tr class="separator:a77cbb39675a7c208028a99d311468cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4971620a878d1eaa2130bd64a8a1f512"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FindStartAndPrimaryTrack::FindStartAndPrimaryTrack </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>beamEnergy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>minAbsLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>minRelLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>First interaction layer and primary track finder. </p>
<p>Constructor</p>
<dl class="section author"><dt>Author</dt><dd>M.V. Chadeeva @ date December 2016 </dd></dl>

</div>
</div>
<a class="anchor" id="a416fdf20a245a8029eb3413f6d96662a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">FindStartAndPrimaryTrack::~FindStartAndPrimaryTrack </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aa26cdd8d3a689e4e571c26f7db377583"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float FindStartAndPrimaryTrack::distXY </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>y2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates and returns distance between two hits in XY-plane </p>

</div>
</div>
<a class="anchor" id="a561ebefafa0eac67786bd05f0bf07941"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FindStartAndPrimaryTrack::FindTrack </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nevt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>xcg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>ycg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isSide</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>firstLayerToStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>lastLayerToStart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>layerToStop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>gap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCLayer.html">CLayer</a> *&#160;</td>
          <td class="paramname"><em>lr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fPrint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds hits belonging to primary track taking in account the earlier found shower starting layer. The "nearest neighbour" criteria is used. Maximum distance parameters are defined taking in account the cell size. First parameter is the number of shower starting layer. Second parameter is an array with of objects <a class="el" href="classCLayer.html">CLayer</a> that contain layer parameters. 0- no track found; 1- single primary track found; &gt;1- parallel tracks </p>

<p>References <a class="el" href="classCHit.html#ac1bc0f62968053da2b6e42de30757397">CHit::r</a>, <a class="el" href="classCHit.html#a2d75c2ec6af4d1974d54dc7c95bb3769">CHit::x</a>, and <a class="el" href="classCHit.html#a9ae960cc5bb59e64f41814c05501067f">CHit::y</a>.</p>

</div>
</div>
<a class="anchor" id="a09a926690f5d1a44095bca860e2c0750"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FindStartAndPrimaryTrack::getMaxNeighbors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCLayer.html">CLayer</a>&#160;</td>
          <td class="paramname"><em>lr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calculates sums for two hits in the given layer of the following values: 1) maximum number of neighbors per hit in volume; 2) maximum number of neighbors in the same layer; 3) maximum number of neighbors in the same and previous layers. </p>

</div>
</div>
<a class="anchor" id="a4c9d59091622b3a06bc06e5e80a531fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FindStartAndPrimaryTrack::getNumberOfNeighbors </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCHit.html">CHit</a>&#160;</td>
          <td class="paramname"><em>hcur</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCLayer.html">CLayer</a> &gt;&#160;</td>
          <td class="paramname"><em>lr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nsum</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>True for isolated hits. Calculates number of neighbors per hit: 1) in the same layer; 2) in the previous and same layers; 3) in the previous, same and next layers. </p>

<p>References <a class="el" href="classCHit.html#ae0fd15bed570010ba641d99302254a8c">CHit::l</a>, <a class="el" href="classCHit.html#ac1bc0f62968053da2b6e42de30757397">CHit::r</a>, <a class="el" href="classCHit.html#a2d75c2ec6af4d1974d54dc7c95bb3769">CHit::x</a>, and <a class="el" href="classCHit.html#a9ae960cc5bb59e64f41814c05501067f">CHit::y</a>.</p>

</div>
</div>
<a class="anchor" id="a4609be368566e344c84866a954f90647"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FindStartAndPrimaryTrack::getStartLayerMip </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCLayer.html">CLayer</a> &gt;&#160;</td>
          <td class="paramname"><em>lr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>window</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>layer0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>mipCriterium</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>hitCriterium</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds and returns the number of layer where shower started using the following criteria:</p>
<ol type="1">
<li>Moving average sum of MIPs inside the window = 10 layers for two successive layers is greater than miplim value.</li>
<li>Number of hits in two successive layers is greater than hitlim value. They are energy dependent and similar for ECAL and HCAL. </li>
</ol>

</div>
</div>
<a class="anchor" id="a9d7074e805019e8ee416008e2097cede"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int FindStartAndPrimaryTrack::getStartLayerNei </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classCLayer.html">CLayer</a> &gt;&#160;</td>
          <td class="paramname"><em>lr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>crit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Finds and returns the number of layer where shower started using criterion based on max # of (3D) neighbors per hit for two hits in layer. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/nfs/dust/ilc/user/marquezh/CaliceSoft_w_ILCSoft_v02-03-02/calice_analysis/addonProcs/include/<a class="el" href="FindStartAndPrimaryTrack_8h_source.html">FindStartAndPrimaryTrack.h</a></li>
<li>/nfs/dust/ilc/user/marquezh/CaliceSoft_w_ILCSoft_v02-03-02/calice_analysis/addonProcs/src/FindStartAndPrimaryTrack.cc</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
