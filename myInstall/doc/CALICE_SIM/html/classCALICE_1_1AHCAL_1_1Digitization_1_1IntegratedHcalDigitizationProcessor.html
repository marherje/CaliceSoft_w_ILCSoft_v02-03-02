<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>CALICE_SIM: CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CALICE_SIM
   &#160;<span id="projectnumber">3.4.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceCALICE.html">CALICE</a></li><li class="navelem"><a class="el" href="namespaceCALICE_1_1AHCAL.html">AHCAL</a></li><li class="navelem"><a class="el" href="namespaceCALICE_1_1AHCAL_1_1Digitization.html">Digitization</a></li><li class="navelem"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html">IntegratedHcalDigitizationProcessor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Processor to digitized Monte Carlo hits.  
 <a href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.png" usemap="#CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor_map" alt=""/>
  <map id="CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor_map" name="CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4109708387041804b890e38fa84a4528"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4109708387041804b890e38fa84a4528"></a>
<a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html">IntegratedHcalDigitizationProcessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>newProcessor</b> ()</td></tr>
<tr class="separator:a4109708387041804b890e38fa84a4528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6ea84a6486d90ea84b0c41c14ef1de5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ab6ea84a6486d90ea84b0c41c14ef1de5">init</a> ()</td></tr>
<tr class="memdesc:ab6ea84a6486d90ea84b0c41c14ef1de5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Everything which has to be initialized once before the processing of the events can start goes here.  <a href="#ab6ea84a6486d90ea84b0c41c14ef1de5">More...</a><br/></td></tr>
<tr class="separator:ab6ea84a6486d90ea84b0c41c14ef1de5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa77031d626abc734f01bc1518a12d85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#afa77031d626abc734f01bc1518a12d85">processEvent</a> (lcio::LCEvent *evt)</td></tr>
<tr class="memdesc:afa77031d626abc734f01bc1518a12d85"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called for every event if the DigitizationProcessor is active.  <a href="#afa77031d626abc734f01bc1518a12d85">More...</a><br/></td></tr>
<tr class="separator:afa77031d626abc734f01bc1518a12d85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7107bda788bc2a48b67bb1999f501bb3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a7107bda788bc2a48b67bb1999f501bb3">end</a> ()</td></tr>
<tr class="memdesc:a7107bda788bc2a48b67bb1999f501bb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">At the very end of Marlin this function is called.  <a href="#a7107bda788bc2a48b67bb1999f501bb3">More...</a><br/></td></tr>
<tr class="separator:a7107bda788bc2a48b67bb1999f501bb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a2db3f59f163c013fb32a9e51f0c3e9f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2db3f59f163c013fb32a9e51f0c3e9f1"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a2db3f59f163c013fb32a9e51f0c3e9f1">initRandomGenerator</a> ()</td></tr>
<tr class="memdesc:a2db3f59f163c013fb32a9e51f0c3e9f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialization of the random generator for pixel statistic simulation. <br/></td></tr>
<tr class="separator:a2db3f59f163c013fb32a9e51f0c3e9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69cae8f7f9de82e98d65a7fe5e87afac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a69cae8f7f9de82e98d65a7fe5e87afac">openInputCollections</a> (lcio::LCEvent *evt)</td></tr>
<tr class="memdesc:a69cae8f7f9de82e98d65a7fe5e87afac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the input collections: incoming SimCalorimeterHits and noise.  <a href="#a69cae8f7f9de82e98d65a7fe5e87afac">More...</a><br/></td></tr>
<tr class="separator:a69cae8f7f9de82e98d65a7fe5e87afac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab412228819b6143acbde9e0ddec1303f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab412228819b6143acbde9e0ddec1303f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ab412228819b6143acbde9e0ddec1303f">simulateOpticalCrosstalk</a> ()</td></tr>
<tr class="memdesc:ab412228819b6143acbde9e0ddec1303f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hits are copied to a temporary map and optical crosstalk is simulated. <br/></td></tr>
<tr class="separator:ab412228819b6143acbde9e0ddec1303f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41c3b67f6c7c61a7cf630f0ad59a6d67"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a41c3b67f6c7c61a7cf630f0ad59a6d67"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a41c3b67f6c7c61a7cf630f0ad59a6d67">simulateSiPMBehaviour</a> ()</td></tr>
<tr class="memdesc:a41c3b67f6c7c61a7cf630f0ad59a6d67"><td class="mdescLeft">&#160;</td><td class="mdescRight">In this function saturation and pixel statistic are simulated. <br/></td></tr>
<tr class="separator:a41c3b67f6c7c61a7cf630f0ad59a6d67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bab9438d4502f55b4239d0b1da490d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a29bab9438d4502f55b4239d0b1da490d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a29bab9438d4502f55b4239d0b1da490d">mergeHitsAndNoise</a> ()</td></tr>
<tr class="memdesc:a29bab9438d4502f55b4239d0b1da490d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The digitized event is add on top of the noise event. <br/></td></tr>
<tr class="separator:a29bab9438d4502f55b4239d0b1da490d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0fb41bf2db27149a40d87e38568637"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6f0fb41bf2db27149a40d87e38568637"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a6f0fb41bf2db27149a40d87e38568637">createOutputCollections</a> (lcio::LCEvent *evt)</td></tr>
<tr class="memdesc:a6f0fb41bf2db27149a40d87e38568637"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create the digitized + noise collection. <br/></td></tr>
<tr class="separator:a6f0fb41bf2db27149a40d87e38568637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11f8e3070251f8b2441a891c2094d62"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab11f8e3070251f8b2441a891c2094d62"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ab11f8e3070251f8b2441a891c2094d62">tidyUp</a> ()</td></tr>
<tr class="memdesc:ab11f8e3070251f8b2441a891c2094d62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets everything which is event specific. <br/></td></tr>
<tr class="separator:ab11f8e3070251f8b2441a891c2094d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad3abb59471ecda56973de80d84b5780"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#aad3abb59471ecda56973de80d84b5780">getCellSize</a> (int module, int chip, int channel)</td></tr>
<tr class="memdesc:aad3abb59471ecda56973de80d84b5780"><td class="mdescLeft">&#160;</td><td class="mdescRight">from IntegratedHcalProcessor, SiPMPropertiesProcessor  <a href="#aad3abb59471ecda56973de80d84b5780">More...</a><br/></td></tr>
<tr class="separator:aad3abb59471ecda56973de80d84b5780"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae06b4559fe0be19b6821dd09c0e4ba61"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae06b4559fe0be19b6821dd09c0e4ba61"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ae06b4559fe0be19b6821dd09c0e4ba61">_inputColName</a></td></tr>
<tr class="memdesc:ae06b4559fe0be19b6821dd09c0e4ba61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the ganged collection which will be digitized. <br/></td></tr>
<tr class="separator:ae06b4559fe0be19b6821dd09c0e4ba61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef49e103b2c5b84daf7932e20a92a0e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2ef49e103b2c5b84daf7932e20a92a0e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a2ef49e103b2c5b84daf7932e20a92a0e">_noiseColName</a></td></tr>
<tr class="memdesc:a2ef49e103b2c5b84daf7932e20a92a0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the noise collection which will be overlayed. <br/></td></tr>
<tr class="separator:a2ef49e103b2c5b84daf7932e20a92a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff59bdae38dda380333f8159046194a9"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#aff59bdae38dda380333f8159046194a9">_outputColName</a></td></tr>
<tr class="memdesc:aff59bdae38dda380333f8159046194a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the digitized collection.  <a href="#aff59bdae38dda380333f8159046194a9">More...</a><br/></td></tr>
<tr class="separator:aff59bdae38dda380333f8159046194a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e7c1a392534c468c52b5362c9a3040"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53e7c1a392534c468c52b5362c9a3040"></a>
NeighbourRelations::FineModule&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a53e7c1a392534c468c52b5362c9a3040">_aFineModule</a></td></tr>
<tr class="memdesc:a53e7c1a392534c468c52b5362c9a3040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance which can be asked about neighbour relations of a fine module. <br/></td></tr>
<tr class="separator:a53e7c1a392534c468c52b5362c9a3040"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b07e4084157a8e75568179afd78cea"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1b07e4084157a8e75568179afd78cea"></a>
NeighbourRelations::CoarseModule&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ab1b07e4084157a8e75568179afd78cea">_aCoarseModule</a></td></tr>
<tr class="memdesc:ab1b07e4084157a8e75568179afd78cea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instance which can be asked about neighbour relations of a fine module. <br/></td></tr>
<tr class="separator:ab1b07e4084157a8e75568179afd78cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1eedcf23d9def06b38f1aa89cf555c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abd1eedcf23d9def06b38f1aa89cf555c"></a>
lcio::CellIDDecoder<br class="typebreak"/>
&lt; lcio::CalorimeterHit &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#abd1eedcf23d9def06b38f1aa89cf555c">_pIncomingCellIDDecoder</a></td></tr>
<tr class="memdesc:abd1eedcf23d9def06b38f1aa89cf555c"><td class="mdescLeft">&#160;</td><td class="mdescRight">To have he <a class="el" href="classCellIDDecoder.html">CellIDDecoder</a> available in every member function we hold a pointer of it. <br/></td></tr>
<tr class="separator:abd1eedcf23d9def06b38f1aa89cf555c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd23776f39b61fb851e56c2e1af7c21"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4bd23776f39b61fb851e56c2e1af7c21"></a>
lcio::CellIDEncoder<br class="typebreak"/>
&lt; lcio::CalorimeterHitImpl &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a4bd23776f39b61fb851e56c2e1af7c21">_pOutgoingCellIDEncoder</a></td></tr>
<tr class="memdesc:a4bd23776f39b61fb851e56c2e1af7c21"><td class="mdescLeft">&#160;</td><td class="mdescRight">To have he CellIDEncoder available in every member function we hold a pointer of it. <br/></td></tr>
<tr class="separator:a4bd23776f39b61fb851e56c2e1af7c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eca1d5b8899e69dd6653732601dfca7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2eca1d5b8899e69dd6653732601dfca7"></a>
lcio::LCCollection *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a2eca1d5b8899e69dd6653732601dfca7">_gangedMCCol</a></td></tr>
<tr class="memdesc:a2eca1d5b8899e69dd6653732601dfca7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the incoming collection. <br/></td></tr>
<tr class="separator:a2eca1d5b8899e69dd6653732601dfca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa40cc79bbf8ee331059d6ee02db1c131"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa40cc79bbf8ee331059d6ee02db1c131"></a>
lcio::LCCollection *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#aa40cc79bbf8ee331059d6ee02db1c131">_noiseCol</a></td></tr>
<tr class="memdesc:aa40cc79bbf8ee331059d6ee02db1c131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the noise collection. <br/></td></tr>
<tr class="separator:aa40cc79bbf8ee331059d6ee02db1c131"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7b3a0df3a300a2d706f6ae30643470d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#aa7b3a0df3a300a2d706f6ae30643470d">_leakage</a></td></tr>
<tr class="memdesc:aa7b3a0df3a300a2d706f6ae30643470d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factor of optical crosstalk/leakage.  <a href="#aa7b3a0df3a300a2d706f6ae30643470d">More...</a><br/></td></tr>
<tr class="separator:aa7b3a0df3a300a2d706f6ae30643470d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85c841e45fbd6f0bbae4b3b7c03c18d0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a85c841e45fbd6f0bbae4b3b7c03c18d0">_mipGeV</a></td></tr>
<tr class="memdesc:a85c841e45fbd6f0bbae4b3b7c03c18d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Energy per MIP.  <a href="#a85c841e45fbd6f0bbae4b3b7c03c18d0">More...</a><br/></td></tr>
<tr class="separator:a85c841e45fbd6f0bbae4b3b7c03c18d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a0090b772ecce3a2b38d593111a0c8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af9a0090b772ecce3a2b38d593111a0c8"></a>
TRandom3 *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#af9a0090b772ecce3a2b38d593111a0c8">_pRandomGenerator</a></td></tr>
<tr class="memdesc:af9a0090b772ecce3a2b38d593111a0c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to ROOTs random generator for pixel statistics. <br/></td></tr>
<tr class="separator:af9a0090b772ecce3a2b38d593111a0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa741d4964f83f095b64cb87c911e9c73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#aa741d4964f83f095b64cb87c911e9c73">_randomSeed</a></td></tr>
<tr class="memdesc:aa741d4964f83f095b64cb87c911e9c73"><td class="mdescLeft">&#160;</td><td class="mdescRight">The random seed for the random generator.  <a href="#aa741d4964f83f095b64cb87c911e9c73">More...</a><br/></td></tr>
<tr class="separator:aa741d4964f83f095b64cb87c911e9c73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4722af37984307f7481c1b1a2deecd4"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ae4722af37984307f7481c1b1a2deecd4">_hcalTileIndexToAmplitude</a></td></tr>
<tr class="memdesc:ae4722af37984307f7481c1b1a2deecd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main map.  <a href="#ae4722af37984307f7481c1b1a2deecd4">More...</a><br/></td></tr>
<tr class="separator:ae4722af37984307f7481c1b1a2deecd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db3e5df11e5ef9627efe1228424074b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2db3e5df11e5ef9627efe1228424074b"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a2db3e5df11e5ef9627efe1228424074b">_doStat</a></td></tr>
<tr class="memdesc:a2db3e5df11e5ef9627efe1228424074b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Toggle to simulate pixel statistics. <br/></td></tr>
<tr class="separator:a2db3e5df11e5ef9627efe1228424074b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processor to digitized Monte Carlo hits. </p>
<p>This DigitizationProcessor converts the energy deposition per cell to hardware units while simulating various detector effects like: optical crosstalk, pixel statistic, saturation and noise.</p>
<dl class="section author"><dt>Authors</dt><dd>Sebastian Richter </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html#l00053">53</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7107bda788bc2a48b67bb1999f501bb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IntegratedHcalDigitizationProcessor::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>At the very end of Marlin this function is called. </p>
<p>Think of it as the reverse of <a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ab6ea84a6486d90ea84b0c41c14ef1de5" title="Everything which has to be initialized once before the processing of the events can start goes here...">init()</a>. Delete newed objects. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html#l00505">505</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html">IntegratedHcalDigitizationProcessor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="aad3abb59471ecda56973de80d84b5780"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor::getCellSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>chip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>from IntegratedHcalProcessor, SiPMPropertiesProcessor </p>
<p>from IntegratedHcalProcessor, SiPMPropertiesProcessor </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html#l00155">155</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="ab6ea84a6486d90ea84b0c41c14ef1de5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IntegratedHcalDigitizationProcessor::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Everything which has to be initialized once before the processing of the events can start goes here. </p>
<p>The init of the base class processor (IntegratedHcalProcessor) is called (never forget it!).</p>
<p>A random generator is set up: <a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a2db3f59f163c013fb32a9e51f0c3e9f1" title="Initialization of the random generator for pixel statistic simulation. ">initRandomGenerator()</a> </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html#l00069">69</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html">IntegratedHcalDigitizationProcessor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="a69cae8f7f9de82e98d65a7fe5e87afac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IntegratedHcalDigitizationProcessor::openInputCollections </td>
          <td>(</td>
          <td class="paramtype">lcio::LCEvent *&#160;</td>
          <td class="paramname"><em>evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the input collections: incoming SimCalorimeterHits and noise. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html#l00127">127</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html">IntegratedHcalDigitizationProcessor.cc</a>.</p>

</div>
</div>
<a class="anchor" id="afa77031d626abc734f01bc1518a12d85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void IntegratedHcalDigitizationProcessor::processEvent </td>
          <td>(</td>
          <td class="paramtype">lcio::LCEvent *&#160;</td>
          <td class="paramname"><em>evt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called for every event if the DigitizationProcessor is active. </p>
<p>It starts a couple of functions like:</p>
<ul>
<li><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a69cae8f7f9de82e98d65a7fe5e87afac" title="Open the input collections: incoming SimCalorimeterHits and noise. ">openInputCollections()</a> </li>
<li><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ab412228819b6143acbde9e0ddec1303f" title="Hits are copied to a temporary map and optical crosstalk is simulated. ">simulateOpticalCrosstalk()</a> </li>
<li><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a41c3b67f6c7c61a7cf630f0ad59a6d67" title="In this function saturation and pixel statistic are simulated. ">simulateSiPMBehaviour()</a> </li>
<li><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a29bab9438d4502f55b4239d0b1da490d" title="The digitized event is add on top of the noise event. ">mergeHitsAndNoise()</a> </li>
<li><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#a6f0fb41bf2db27149a40d87e38568637" title="Create the digitized + noise collection. ">createOutputCollections()</a></li>
</ul>
<p>and at the very end to clear all non-temperory maps etc.:</p>
<ul>
<li><a class="el" href="classCALICE_1_1AHCAL_1_1Digitization_1_1IntegratedHcalDigitizationProcessor.html#ab11f8e3070251f8b2441a891c2094d62" title="Resets everything which is event specific. ">tidyUp()</a></li>
</ul>
<p>If you want to know what's going on I suggest to go through all the functions in the given order. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html#l00094">94</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html">IntegratedHcalDigitizationProcessor.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ae4722af37984307f7481c1b1a2deecd4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int,double&gt; CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor::_hcalTileIndexToAmplitude</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The main map. </p>
<p>This holds the current amplitude. For performance its unit change during each step of digitization. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html#l00220">220</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="aa7b3a0df3a300a2d706f6ae30643470d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor::_leakage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factor of optical crosstalk/leakage. </p>
<p>For example 10%. Steerable. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html#l00202">202</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="a85c841e45fbd6f0bbae4b3b7c03c18d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor::_mipGeV</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Energy per MIP. </p>
<p>Approx. 816 keV. Steerable. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html#l00206">206</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="aff59bdae38dda380333f8159046194a9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor::_outputColName</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Name of the digitized collection. </p>
<p>Serves as an Input for the IntegratedHcalCalibrationProcessor. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html#l00172">172</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="aa741d4964f83f095b64cb87c911e9c73"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CALICE::AHCAL::Digitization::IntegratedHcalDigitizationProcessor::_randomSeed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The random seed for the random generator. </p>
<p>Steerable. </p>

<p>Definition at line <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html#l00214">214</a> of file <a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="IntegratedHcalDigitizationProcessor_8hh_source.html">IntegratedHcalDigitizationProcessor.hh</a></li>
<li><a class="el" href="IntegratedHcalDigitizationProcessor_8cc_source.html">IntegratedHcalDigitizationProcessor.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
