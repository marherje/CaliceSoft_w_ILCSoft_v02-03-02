<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>RECOSIPM: CALICE::Ahc2CalibrateProcessor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">RECOSIPM
   &#160;<span id="projectnumber">6.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>CALICE</b></li><li class="navelem"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html">Ahc2CalibrateProcessor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">CALICE::Ahc2CalibrateProcessor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Processor that does the SiPM calibration.  
 <a href="classCALICE_1_1Ahc2CalibrateProcessor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Ahc2CalibrateProcessor_8hh_source.html">Ahc2CalibrateProcessor.hh</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CALICE::Ahc2CalibrateProcessor:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCALICE_1_1Ahc2CalibrateProcessor.png" usemap="#CALICE::Ahc2CalibrateProcessor_map" alt=""/>
  <map id="CALICE::Ahc2CalibrateProcessor_map" name="CALICE::Ahc2CalibrateProcessor_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a57d619e6f0986ae6a02cbced83acc6f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57d619e6f0986ae6a02cbced83acc6f5"></a>
<a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html">Ahc2CalibrateProcessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><b>newProcessor</b> ()</td></tr>
<tr class="separator:a57d619e6f0986ae6a02cbced83acc6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad821f0bc1b0bd316e93eba7a24b7a723"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad821f0bc1b0bd316e93eba7a24b7a723"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>init</b> ()</td></tr>
<tr class="separator:ad821f0bc1b0bd316e93eba7a24b7a723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1633c8a20a474042b7e2925276921c3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab1633c8a20a474042b7e2925276921c3"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>processRunHeader</b> (LCRunHeader *run)</td></tr>
<tr class="separator:ab1633c8a20a474042b7e2925276921c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d7418cc0c13b2e941f64bc222fb8b6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95d7418cc0c13b2e941f64bc222fb8b6"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>processEvent</b> (LCEvent *evt)</td></tr>
<tr class="separator:a95d7418cc0c13b2e941f64bc222fb8b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b2468cd5bfb6ef37e3f4b4c08c2c68"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a95b2468cd5bfb6ef37e3f4b4c08c2c68"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>check</b> (LCEvent *evt)</td></tr>
<tr class="separator:a95b2468cd5bfb6ef37e3f4b4c08c2c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74e9e535f35082ecc9d311ce036324c4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a74e9e535f35082ecc9d311ce036324c4"></a>
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>end</b> ()</td></tr>
<tr class="separator:a74e9e535f35082ecc9d311ce036324c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:acaa509d1340c3afffb7f3eea852397f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acaa509d1340c3afffb7f3eea852397f5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>FillContainer</b> (LCEvent *evt)</td></tr>
<tr class="separator:acaa509d1340c3afffb7f3eea852397f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5304f297b7dff32bcc5e0193c50d58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a5c5304f297b7dff32bcc5e0193c50d58">calibrateEnergyAndFillOutputCollections</a> (Ahc2Calibrations *calibration, const int GainBit, const int HitBit, const float rawEnergy, const float rawTDC, const float timeReference, const int BXID, const int Mem, LCCollection *ahcHitOutputCol, boost::optional&lt; std::pair&lt; int, int &gt; &gt; asicStopInfo)</td></tr>
<tr class="memdesc:a5c5304f297b7dff32bcc5e0193c50d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrate the energy (convert from energy in ADC counts to energy in MIPs)  <a href="#a5c5304f297b7dff32bcc5e0193c50d58">More...</a><br/></td></tr>
<tr class="separator:a5c5304f297b7dff32bcc5e0193c50d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710d5725af93224c9e277df6994535ab"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a710d5725af93224c9e277df6994535ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>CorrectOccupancy</b> (DecoderSet *decoder, LCCollection *ahcHitOutputCol, int bxid)</td></tr>
<tr class="separator:a710d5725af93224c9e277df6994535ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa5a4d84225a0455058ec8ab24f650b1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa5a4d84225a0455058ec8ab24f650b1"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>checkHit</b> (CalorimeterHitImpl *hit)</td></tr>
<tr class="separator:aaa5a4d84225a0455058ec8ab24f650b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af40da80c07919fd7ff11c2eea1aeb381"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af40da80c07919fd7ff11c2eea1aeb381"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#af40da80c07919fd7ff11c2eea1aeb381">_inputColName</a></td></tr>
<tr class="memdesc:af40da80c07919fd7ff11c2eea1aeb381"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the input collection <br/></td></tr>
<tr class="separator:af40da80c07919fd7ff11c2eea1aeb381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80531c67c2722ad0e2460a7e0876bae"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa80531c67c2722ad0e2460a7e0876bae"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#aa80531c67c2722ad0e2460a7e0876bae">_inputColNameASIC</a></td></tr>
<tr class="memdesc:aa80531c67c2722ad0e2460a7e0876bae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input LCIO Collection containig information on the stopping BXIS and asic of the ROC. <br/></td></tr>
<tr class="separator:aa80531c67c2722ad0e2460a7e0876bae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc06786436feb1670498da3fd69ad94"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3dc06786436feb1670498da3fd69ad94"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a3dc06786436feb1670498da3fd69ad94">_ahcHitOutputColName</a></td></tr>
<tr class="memdesc:a3dc06786436feb1670498da3fd69ad94"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the output AHC hit collection <br/></td></tr>
<tr class="separator:a3dc06786436feb1670498da3fd69ad94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d1b19a0ffa72a6ea1427664503921d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac8d1b19a0ffa72a6ea1427664503921d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#ac8d1b19a0ffa72a6ea1427664503921d">_mappingProcessorName</a></td></tr>
<tr class="memdesc:ac8d1b19a0ffa72a6ea1427664503921d"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the mapping <br/></td></tr>
<tr class="separator:ac8d1b19a0ffa72a6ea1427664503921d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae410aaaebdd65ba4054169c41266154e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae410aaaebdd65ba4054169c41266154e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#ae410aaaebdd65ba4054169c41266154e">_calibProcessorName</a></td></tr>
<tr class="memdesc:ae410aaaebdd65ba4054169c41266154e"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the SiPM calibrations <br/></td></tr>
<tr class="separator:ae410aaaebdd65ba4054169c41266154e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58a404a600c53c93f2a8d93cdd3d0bdd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a58a404a600c53c93f2a8d93cdd3d0bdd"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><b>_Ahc2HardwareConnectionName</b></td></tr>
<tr class="separator:a58a404a600c53c93f2a8d93cdd3d0bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb920d14fbddb7869a6563c9b8e0591d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acb920d14fbddb7869a6563c9b8e0591d"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#acb920d14fbddb7869a6563c9b8e0591d">_temperatureProcessorName</a></td></tr>
<tr class="memdesc:acb920d14fbddb7869a6563c9b8e0591d"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the SiPM temperature <br/></td></tr>
<tr class="separator:acb920d14fbddb7869a6563c9b8e0591d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a506a8b03d3d6114e8c9372319748e9a3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a506a8b03d3d6114e8c9372319748e9a3"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a506a8b03d3d6114e8c9372319748e9a3">_BIFCollectionName</a></td></tr>
<tr class="memdesc:a506a8b03d3d6114e8c9372319748e9a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the input collection <br/></td></tr>
<tr class="separator:a506a8b03d3d6114e8c9372319748e9a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb12c048f5ca0a876f4112580dcd790e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abb12c048f5ca0a876f4112580dcd790e"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#abb12c048f5ca0a876f4112580dcd790e">_cellDescriptionProcessorName</a></td></tr>
<tr class="memdesc:abb12c048f5ca0a876f4112580dcd790e"><td class="mdescLeft">&#160;</td><td class="mdescRight">name of the processor which provides the cells description <br/></td></tr>
<tr class="separator:abb12c048f5ca0a876f4112580dcd790e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9569a1acebd769a434928d339a069eb3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9569a1acebd769a434928d339a069eb3"></a>
MappedContainer<br class="typebreak"/>
&lt; CellDescription &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a9569a1acebd769a434928d339a069eb3">_cellDescriptions</a></td></tr>
<tr class="memdesc:a9569a1acebd769a434928d339a069eb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapped container of cells description <br/></td></tr>
<tr class="separator:a9569a1acebd769a434928d339a069eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef2b11d192204ebb3723fb47fe6a0976"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aef2b11d192204ebb3723fb47fe6a0976"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#aef2b11d192204ebb3723fb47fe6a0976">_scaleEnergy</a></td></tr>
<tr class="memdesc:aef2b11d192204ebb3723fb47fe6a0976"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the scaling of the hits energy <br/></td></tr>
<tr class="separator:aef2b11d192204ebb3723fb47fe6a0976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d0eb5ee2782716f379aff4798f7d0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0d0eb5ee2782716f379aff4798f7d0f"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#af0d0eb5ee2782716f379aff4798f7d0f">_energyScaleFactor</a></td></tr>
<tr class="memdesc:af0d0eb5ee2782716f379aff4798f7d0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">factor to scale the hits energy <br/></td></tr>
<tr class="separator:af0d0eb5ee2782716f379aff4798f7d0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51ad92c817fd651000dec667467090b5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51ad92c817fd651000dec667467090b5"></a>
MappedContainer<br class="typebreak"/>
&lt; CalorimeterHitImpl &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a51ad92c817fd651000dec667467090b5">_recoContainer</a></td></tr>
<tr class="memdesc:a51ad92c817fd651000dec667467090b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapped container of reconstructed AHCAL hits <br/></td></tr>
<tr class="separator:a51ad92c817fd651000dec667467090b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a7da187cbb927297e330c3d0bf63dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a72a7da187cbb927297e330c3d0bf63dc"></a>
const Ahc2Mapper *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a72a7da187cbb927297e330c3d0bf63dc">_mapper</a></td></tr>
<tr class="memdesc:a72a7da187cbb927297e330c3d0bf63dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">the mapper <br/></td></tr>
<tr class="separator:a72a7da187cbb927297e330c3d0bf63dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af32eea30839db78e5e5aa45c42dac715"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af32eea30839db78e5e5aa45c42dac715"></a>
MappedContainer<br class="typebreak"/>
&lt; Ahc2Calibrations &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#af32eea30839db78e5e5aa45c42dac715">_calibContainer</a></td></tr>
<tr class="memdesc:af32eea30839db78e5e5aa45c42dac715"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapped container of SiPM calibrations <br/></td></tr>
<tr class="separator:af32eea30839db78e5e5aa45c42dac715"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f227d17ea78bb5f560d695725099e93"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f227d17ea78bb5f560d695725099e93"></a>
MappedContainer&lt; SimpleValue &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a8f227d17ea78bb5f560d695725099e93">_temperatureContainer</a></td></tr>
<tr class="memdesc:a8f227d17ea78bb5f560d695725099e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">mapped container of cells temperature <br/></td></tr>
<tr class="separator:a8f227d17ea78bb5f560d695725099e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bae2aa3700e81f9f739a3d64c3e7cbb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8bae2aa3700e81f9f739a3d64c3e7cbb"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a8bae2aa3700e81f9f739a3d64c3e7cbb">_newdataformat</a></td></tr>
<tr class="memdesc:a8bae2aa3700e81f9f739a3d64c3e7cbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag for the new data format in EUDAQ <br/></td></tr>
<tr class="separator:a8bae2aa3700e81f9f739a3d64c3e7cbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733c7dc2c412bba4ed34e4ffd0598784"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a733c7dc2c412bba4ed34e4ffd0598784"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a733c7dc2c412bba4ed34e4ffd0598784">_hasBIF</a></td></tr>
<tr class="memdesc:a733c7dc2c412bba4ed34e4ffd0598784"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag for the new data format in EUDAQ <br/></td></tr>
<tr class="separator:a733c7dc2c412bba4ed34e4ffd0598784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad858c334434d3f75b9d993aaf60f076"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aad858c334434d3f75b9d993aaf60f076"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#aad858c334434d3f75b9d993aaf60f076">_pedestalSubtraction</a></td></tr>
<tr class="memdesc:aad858c334434d3f75b9d993aaf60f076"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable pedestal subtraction <br/></td></tr>
<tr class="separator:aad858c334434d3f75b9d993aaf60f076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91d4d566f70258fbf36cfcc7949e3971"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91d4d566f70258fbf36cfcc7949e3971"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_doPedestalMemoryCellOffset</b></td></tr>
<tr class="separator:a91d4d566f70258fbf36cfcc7949e3971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51aac1d9a2195810ab61ae74fd1e2812"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a51aac1d9a2195810ab61ae74fd1e2812"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a51aac1d9a2195810ab61ae74fd1e2812">_doHighGainLowGainPedestal</a></td></tr>
<tr class="memdesc:a51aac1d9a2195810ab61ae74fd1e2812"><td class="mdescLeft">&#160;</td><td class="mdescRight">wether to correct the pedestal for each memory cell <br/></td></tr>
<tr class="separator:a51aac1d9a2195810ab61ae74fd1e2812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac36692611bc1dc16e7b613f0f279121b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#ac36692611bc1dc16e7b613f0f279121b">_doMipTempCorr</a></td></tr>
<tr class="memdesc:ac36692611bc1dc16e7b613f0f279121b"><td class="mdescLeft">&#160;</td><td class="mdescRight">wether to use different pedestal for high and low gain, if false, high gain values will be applied to all hits  <a href="#ac36692611bc1dc16e7b613f0f279121b">More...</a><br/></td></tr>
<tr class="separator:ac36692611bc1dc16e7b613f0f279121b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d46c30741845b340de59f9b5fd5de40"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d46c30741845b340de59f9b5fd5de40"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a3d46c30741845b340de59f9b5fd5de40">_doGainTempCorr</a></td></tr>
<tr class="memdesc:a3d46c30741845b340de59f9b5fd5de40"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the temperature correction of the gain <br/></td></tr>
<tr class="separator:a3d46c30741845b340de59f9b5fd5de40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d7fce6e7e82cb810b6c0a7e016a74d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a40d7fce6e7e82cb810b6c0a7e016a74d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a40d7fce6e7e82cb810b6c0a7e016a74d">_doSaturationCorr</a></td></tr>
<tr class="memdesc:a40d7fce6e7e82cb810b6c0a7e016a74d"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the saturation correction <br/></td></tr>
<tr class="separator:a40d7fce6e7e82cb810b6c0a7e016a74d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6498f3913e1c29ca1903001108e5fc23"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6498f3913e1c29ca1903001108e5fc23"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a6498f3913e1c29ca1903001108e5fc23">_zeroSuppression</a></td></tr>
<tr class="memdesc:a6498f3913e1c29ca1903001108e5fc23"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the zero suppression, that is if you want to apply the 0.4 MIP cut or not <br/></td></tr>
<tr class="separator:a6498f3913e1c29ca1903001108e5fc23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d753d78ae5426ff61005e48040ad22c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d753d78ae5426ff61005e48040ad22c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a2d753d78ae5426ff61005e48040ad22c">_isPhysicsMode</a></td></tr>
<tr class="memdesc:a2d753d78ae5426ff61005e48040ad22c"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the physics mode energy calibration <br/></td></tr>
<tr class="separator:a2d753d78ae5426ff61005e48040ad22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1da32722c145038b42b025b34d451e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af1da32722c145038b42b025b34d451e9"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#af1da32722c145038b42b025b34d451e9">_filterDeadCells</a></td></tr>
<tr class="memdesc:af1da32722c145038b42b025b34d451e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the filtering of dead cells <br/></td></tr>
<tr class="separator:af1da32722c145038b42b025b34d451e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd38d20f0310d2ce016d80493a25c651"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd38d20f0310d2ce016d80493a25c651"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#afd38d20f0310d2ce016d80493a25c651">_filterDefaultCells</a></td></tr>
<tr class="memdesc:afd38d20f0310d2ce016d80493a25c651"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the filgering of default cells <br/></td></tr>
<tr class="separator:afd38d20f0310d2ce016d80493a25c651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f30adee1c7c058cead393f36b92e553"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f30adee1c7c058cead393f36b92e553"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_filterByDAQquality</b></td></tr>
<tr class="separator:a8f30adee1c7c058cead393f36b92e553"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fc5b04c571329bde618c70e5aa9885"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14fc5b04c571329bde618c70e5aa9885"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a14fc5b04c571329bde618c70e5aa9885">_doErrorCalculation</a></td></tr>
<tr class="memdesc:a14fc5b04c571329bde618c70e5aa9885"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to enable/disable the error calculation <br/></td></tr>
<tr class="separator:a14fc5b04c571329bde618c70e5aa9885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07cf5b93b24db2acad37b9c14b65011c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a07cf5b93b24db2acad37b9c14b65011c"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a07cf5b93b24db2acad37b9c14b65011c">_mipCut</a></td></tr>
<tr class="memdesc:a07cf5b93b24db2acad37b9c14b65011c"><td class="mdescLeft">&#160;</td><td class="mdescRight">value of the MIP cut (default: 0.4 MIPs) <br/></td></tr>
<tr class="separator:a07cf5b93b24db2acad37b9c14b65011c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57684c698eda53958b7537201948ddaa"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57684c698eda53958b7537201948ddaa"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a57684c698eda53958b7537201948ddaa">_mipToGeVFlag</a></td></tr>
<tr class="memdesc:a57684c698eda53958b7537201948ddaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">conversion flag from MIPs to GeV (0 - MIP, 1 - GeV) <br/></td></tr>
<tr class="separator:a57684c698eda53958b7537201948ddaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f34123a00ee631895bda7680794cfb6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f34123a00ee631895bda7680794cfb6"></a>
float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a7f34123a00ee631895bda7680794cfb6">_mipToGeVFactor</a></td></tr>
<tr class="memdesc:a7f34123a00ee631895bda7680794cfb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">conversion factor from MIPs to GeV <br/></td></tr>
<tr class="separator:a7f34123a00ee631895bda7680794cfb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263941e7f6da582dd0e4336c2d0443bf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a263941e7f6da582dd0e4336c2d0443bf"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_doMipConversion</b></td></tr>
<tr class="separator:a263941e7f6da582dd0e4336c2d0443bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacfee6708f5ebda2f4f14273a508c345"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacfee6708f5ebda2f4f14273a508c345"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#aacfee6708f5ebda2f4f14273a508c345">_doTimeConversion</a></td></tr>
<tr class="memdesc:aacfee6708f5ebda2f4f14273a508c345"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert ADC to MIP or not. <br/></td></tr>
<tr class="separator:aacfee6708f5ebda2f4f14273a508c345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7fd3817f6aefdd07f107c05ed8f61f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#af7fd3817f6aefdd07f107c05ed8f61f4">_isDATA</a></td></tr>
<tr class="memdesc:af7fd3817f6aefdd07f107c05ed8f61f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert TDC to ns or not.  <a href="#af7fd3817f6aefdd07f107c05ed8f61f4">More...</a><br/></td></tr>
<tr class="separator:af7fd3817f6aefdd07f107c05ed8f61f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5809d2c7f3a1e6cf7deb8ed8fb48f90"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab5809d2c7f3a1e6cf7deb8ed8fb48f90"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#ab5809d2c7f3a1e6cf7deb8ed8fb48f90">_isMC</a></td></tr>
<tr class="memdesc:ab5809d2c7f3a1e6cf7deb8ed8fb48f90"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to switch to MC processing <br/></td></tr>
<tr class="separator:ab5809d2c7f3a1e6cf7deb8ed8fb48f90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4cd3d6df2a690c09a6eb2689505a4b4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#af4cd3d6df2a690c09a6eb2689505a4b4">_isFirstEvent</a></td></tr>
<tr class="memdesc:af4cd3d6df2a690c09a6eb2689505a4b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to switch to DATA/MC at the first event, the following events should be the same.  <a href="#af4cd3d6df2a690c09a6eb2689505a4b4">More...</a><br/></td></tr>
<tr class="separator:af4cd3d6df2a690c09a6eb2689505a4b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ecaa70b84b39225a4b4bd772f5a22c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26ecaa70b84b39225a4b4bd772f5a22c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_skipFirstMemoryCell</b></td></tr>
<tr class="separator:a26ecaa70b84b39225a4b4bd772f5a22c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab386d03c40a8816dca77af0f9b1b7496"><td class="memItemLeft" align="right" valign="top">MappedContainer<br class="typebreak"/>
&lt; CalorimeterHitImpl &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#ab386d03c40a8816dca77af0f9b1b7496">_HitContainer</a></td></tr>
<tr class="memdesc:ab386d03c40a8816dca77af0f9b1b7496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag if the first memory cell should be skipped.  <a href="#ab386d03c40a8816dca77af0f9b1b7496">More...</a><br/></td></tr>
<tr class="separator:ab386d03c40a8816dca77af0f9b1b7496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cb42883a07b2ef17026d96405e608b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a34cb42883a07b2ef17026d96405e608b"></a>
std::map&lt; int, pair&lt; int, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a34cb42883a07b2ef17026d96405e608b">_HardwareConnnectionContainer</a></td></tr>
<tr class="memdesc:a34cb42883a07b2ef17026d96405e608b"><td class="mdescLeft">&#160;</td><td class="mdescRight">map containing relationship between ChipID and Module/ChipNb <br/></td></tr>
<tr class="separator:a34cb42883a07b2ef17026d96405e608b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fc64538e07b1c5f42df362426007387"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8fc64538e07b1c5f42df362426007387"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_calculateOccupancy</b></td></tr>
<tr class="separator:a8fc64538e07b1c5f42df362426007387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62acc67ca6e334fdfdd477d444b17efe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a62acc67ca6e334fdfdd477d444b17efe"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_correctOccupancy</b></td></tr>
<tr class="separator:a62acc67ca6e334fdfdd477d444b17efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cc3d7822df8b0b386bdc0f0337cf95f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7cc3d7822df8b0b386bdc0f0337cf95f"></a>
std::map&lt; int, std::map&lt; int, <br class="typebreak"/>
int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_occupancyPerChip</b></td></tr>
<tr class="separator:a7cc3d7822df8b0b386bdc0f0337cf95f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeebc6f169ea1548cd38e9405ea245cc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abeebc6f169ea1548cd38e9405ea245cc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_nRun</b></td></tr>
<tr class="separator:abeebc6f169ea1548cd38e9405ea245cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81421e874b7f76b0fd09140df26310bd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81421e874b7f76b0fd09140df26310bd"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>_nEvt</b></td></tr>
<tr class="separator:a81421e874b7f76b0fd09140df26310bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b5f551ec55b0c161dca109aba9898fc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b5f551ec55b0c161dca109aba9898fc"></a>
std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_module2Layer</b></td></tr>
<tr class="separator:a4b5f551ec55b0c161dca109aba9898fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a5f7a19959b43293781fa02469188b3"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a5f7a19959b43293781fa02469188b3"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>_useRealModuleNumber</b></td></tr>
<tr class="separator:a5a5f7a19959b43293781fa02469188b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa621f37c949aeb4e846960c8999c9e97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa621f37c949aeb4e846960c8999c9e97"></a>
std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_inputCollectionNames</b></td></tr>
<tr class="separator:aa621f37c949aeb4e846960c8999c9e97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e442fd6b305342fa36e7ee5995ae8d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88e442fd6b305342fa36e7ee5995ae8d"></a>
std::vector&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>_outputCollectionNames</b></td></tr>
<tr class="separator:a88e442fd6b305342fa36e7ee5995ae8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7528e4f54c09999911b7c6ac8552911"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7528e4f54c09999911b7c6ac8552911"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#ae7528e4f54c09999911b7c6ac8552911">_ignoreHitBit</a></td></tr>
<tr class="memdesc:ae7528e4f54c09999911b7c6ac8552911"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag for the hit bit <br/></td></tr>
<tr class="separator:ae7528e4f54c09999911b7c6ac8552911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8618b53237fa25e3ea27f0ebbebe6d38"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8618b53237fa25e3ea27f0ebbebe6d38"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCALICE_1_1Ahc2CalibrateProcessor.html#a8618b53237fa25e3ea27f0ebbebe6d38">_inCM</a></td></tr>
<tr class="memdesc:a8618b53237fa25e3ea27f0ebbebe6d38"><td class="mdescLeft">&#160;</td><td class="mdescRight">flag to convert mm to cm <br/></td></tr>
<tr class="separator:a8618b53237fa25e3ea27f0ebbebe6d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processor that does the SiPM calibration. </p>
<p>The calibration is done according to the formula: <img class="formulaInl" alt="$E_{calibrated}=f_{saturation}((E_{raw}-pedestal) \cdot IC/gain) \cdot gain/IC/MIP$" src="form_0.png"/></p>
<p>Please note:</p>
<ul>
<li>this processor does the calibration for both data and Monte Carlo, based on the type of the input collection ("LCGenericObject" for data, and "CalorimeterHit" for Monte Carlo);</li>
<li>for noise creation, the saturation correction is disabled (doSaturationCorrection=false), as well as the ZeroSuppression (ZeroSuppression = false)</li>
<li>for Monte Carlo, the pedestal subtraction is disabled (PedestalSubtraction=false)</li>
</ul>
<dl class="section user"><dt>processor parameters</dt><dd><table class="doxtable">
<tr>
<td>steering file parameter name </td><td>description  </td></tr>
<tr>
<td><b><em> InputCollectionName </em></b></td><td>name of the input collection, with energy in ADC counts </td></tr>
<tr>
<td><b><em> OutputCollectionName </em></b></td><td>name of the output collection, with energy in MIPs </td></tr>
<tr>
<td><b><em> MappingProcessorName </em></b></td><td>name of the mapping processor that provides the necessary Mapper class </td></tr>
<tr>
<td><b><em> Ahc2CalibrationsProcessorName </em></b></td><td>name of the processor which provides the SiPM calibrations </td></tr>
<tr>
<td><b><em> SiPMTemperatureProcessorName </em></b></td><td>name of the processor which provides the SiPM temperature </td></tr>
<tr>
<td><b><em> PedestalSubtraction </em></b></td><td>Flag to enable/disable pedestal subtraction </td></tr>
<tr>
<td><b><em> ZeroSuppression </em></b></td><td>Flag to enable/disable zero suppression (intention to apply the MIP cut) </td></tr>
<tr>
<td><b><em> MipCut </em></b></td><td>Value of the MIP cut (default: 0.4 MIPs) </td></tr>
<tr>
<td><b><em> doMipConversion </em></b></td><td>Flag to enable/disable MIP Calibration </td></tr>
<tr>
<td><b><em> doMipTemperatureCorrection </em></b></td><td>Flag to enable/disable temperature correction of the MIP </td></tr>
<tr>
<td><b><em> doGainTemperatureCorrection </em></b></td><td>Flag to enable/disable temperature correction of the gain </td></tr>
<tr>
<td><b><em> doSaturationCorrection </em></b></td><td>Flag to enable/disable the saturation correction </td></tr>
<tr>
<td><b><em> doTimeConversion </em></b></td><td>Flag to enable/disable the TDC Calibration </td></tr>
<tr>
<td><b><em> doErrorCalculation </em></b></td><td>Flag to enable/disable error calculation </td></tr>
<tr>
<td><b><em> filterDeadCells </em></b></td><td>Flag to enable/disable the filtering of dead cells </td></tr>
<tr>
<td><b><em> filterDefaultCells </em></b></td><td>Flag to enable/disable the filtering of default dead cells </td></tr>
</table>
</dd></dl>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'sha'+'oj'+'un.'+'lu'+'@de'+'sy'+'.de'; return false;">shaoj<span style="display: none;">.nosp@m.</span>un.l<span style="display: none;">.nosp@m.</span>u@des<span style="display: none;">.nosp@m.</span>y.de</a> </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>January 2013 </dd></dl>

<p>Definition at line <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html#l00061">61</a> of file <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html">Ahc2CalibrateProcessor.hh</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a5c5304f297b7dff32bcc5e0193c50d58"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CALICE::Ahc2CalibrateProcessor::calibrateEnergyAndFillOutputCollections </td>
          <td>(</td>
          <td class="paramtype">Ahc2Calibrations *&#160;</td>
          <td class="paramname"><em>calibration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>GainBit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>HitBit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>rawEnergy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>rawTDC</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>timeReference</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>BXID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>Mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LCCollection *&#160;</td>
          <td class="paramname"><em>ahcHitOutputCol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::optional&lt; std::pair&lt; int, int &gt; &gt;&#160;</td>
          <td class="paramname"><em>asicStopInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calibrate the energy (convert from energy in ADC counts to energy in MIPs) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">calibration</td><td>calibration of the current SiPM </td></tr>
    <tr><td class="paramname">GainBit</td><td>gain bit </td></tr>
    <tr><td class="paramname">HitBit</td><td>hit bit </td></tr>
    <tr><td class="paramname">rawEnergy</td><td>raw energy, in ADC counts </td></tr>
    <tr><td class="paramname">rawTDC</td><td>raw time, in TIC counts </td></tr>
    <tr><td class="paramname">timeReference</td><td>Reference time of the event </td></tr>
    <tr><td class="paramname">BXID</td><td>BunchXID%2 </td></tr>
    <tr><td class="paramname">Mem</td><td>Memory cell ID </td></tr>
    <tr><td class="paramname">ahcHitOutputCol</td><td>the AHC hit output collection, of type CalorimeterHit </td></tr>
    <tr><td class="paramname">asicStopInfo</td><td>info on the stopping condiditon of the detector, pair of &lt;asic ID, bxID&gt; </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="Ahc2CalibrateProcessor_8cc_source.html#l00819">819</a> of file <a class="el" href="Ahc2CalibrateProcessor_8cc_source.html">Ahc2CalibrateProcessor.cc</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="ac36692611bc1dc16e7b613f0f279121b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CALICE::Ahc2CalibrateProcessor::_doMipTempCorr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>wether to use different pedestal for high and low gain, if false, high gain values will be applied to all hits </p>
<p>flag to enable/disable the temperature correction of the MIP </p>

<p>Definition at line <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html#l00169">169</a> of file <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html">Ahc2CalibrateProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="ab386d03c40a8816dca77af0f9b1b7496"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MappedContainer&lt;CalorimeterHitImpl&gt;* CALICE::Ahc2CalibrateProcessor::_HitContainer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag if the first memory cell should be skipped. </p>
<p>E.g., because there is a dummy trigger like in 2015-2017 data mapped container of AHCAL cells </p>

<p>Definition at line <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html#l00195">195</a> of file <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html">Ahc2CalibrateProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="af7fd3817f6aefdd07f107c05ed8f61f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CALICE::Ahc2CalibrateProcessor::_isDATA</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert TDC to ns or not. </p>
<p>flag to switch to DATA processing </p>

<p>Definition at line <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html#l00189">189</a> of file <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html">Ahc2CalibrateProcessor.hh</a>.</p>

</div>
</div>
<a class="anchor" id="af4cd3d6df2a690c09a6eb2689505a4b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CALICE::Ahc2CalibrateProcessor::_isFirstEvent</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>flag to switch to DATA/MC at the first event, the following events should be the same. </p>

<p>Definition at line <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html#l00191">191</a> of file <a class="el" href="Ahc2CalibrateProcessor_8hh_source.html">Ahc2CalibrateProcessor.hh</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="Ahc2CalibrateProcessor_8hh_source.html">Ahc2CalibrateProcessor.hh</a></li>
<li><a class="el" href="Ahc2CalibrateProcessor_8cc_source.html">Ahc2CalibrateProcessor.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
